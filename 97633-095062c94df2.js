"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[97633],{1946:(e,t,i)=>{i.d(t,{oj:()=>j,ZH:()=>y});var n=i(74848),r=i(21728),a=i(38621),l=i(96540),s=i(11196),o=i(84268),c=i(13436),d=i(25556),f=i(35311),u=i(78049),m=i(34535),h=i(81355),p=i(71315);let x=(0,l.memo)(function(e){let t,i=(0,r.c)(3),{changeType:a,isSymlink:l}=e;return i[0]!==a||i[1]!==l?(t=(0,n.jsx)(u.E,{status:a,isSymlink:l}),i[0]=a,i[1]=l,i[2]=t):t=i[2],t});x.displayName="FileStatusIconItem";let y=(0,l.memo)(function(e){let t,i,d,f,u,h,y,g,v,j,C,S=(0,r.c)(41),{file:N,depth:b,hash:w,onSelect:D}=e,_=(0,l.useRef)(null),I=(0,l.useRef)(null),P=`#diff-${N.diff.pathDigest}`;S[0]===Symbol.for("react.memo_cache_sentinel")?(t={focusRowRef:_,mouseRowRef:_},S[0]=t):t=S[0];let k=(0,m.Z)(t),E=N.diff.totalCommentsCount??0,T=N.diff.highestAnnotationLevel,O=N.fileName??"This file",R=null;switch(E>0&&(O+=` has ${E<10?E:"9+"} ${E>1?"comments":"comment"}`),T){case"WARNING":{let e;O+=`${E>0?" and":""} has warning annotations`,S[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"pl-1 fgColor-attention",children:(0,n.jsx)(a.AlertIcon,{})}),S[1]=e):e=S[1],R=e;break}case"NOTICE":{let e;O+=`${E>0?" and":""} has notice annotations`,S[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"pl-1 fgColor-default",children:(0,n.jsx)(a.InfoIcon,{})}),S[2]=e):e=S[2],R=e;break}case"FAILURE":{let e;O+=`${E>0?" and":""} has failure annotations`,S[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"pl-1 fgColor-danger",children:(0,n.jsx)(a.XCircleFillIcon,{})}),S[3]=e):e=S[3],R=e}}S[4]!==R||S[5]!==O?(i={screenReaderText:O,annotationElement:R},S[4]=R,S[5]=O,S[6]=i):i=S[6];let{screenReaderText:A,annotationElement:F}=i;S[7]!==N.diff.pathDigest||S[8]!==w?(d=()=>{if(_.current&&N.diff.pathDigest===w){let e=window.setTimeout(()=>{let e=p.XC?.getElementById("diff_file_tree")?.parentElement,t=_.current.offsetTop,i=p.cg?.innerHeight??0;e&&(e.scrollTop=t-i/2)},0);return()=>{window.clearTimeout(e)}}},f=[N.diff.pathDigest,w],S[7]=N.diff.pathDigest,S[8]=w,S[9]=d,S[10]=f):(d=S[9],f=S[10]),(0,l.useEffect)(d,f),S[11]!==P?(u=e=>{if(e.metaKey||e.ctrlKey||1===e.button){e.preventDefault(),window.open(P,"_blank");return}},S[11]=P,S[12]=u):u=S[12];let $=u;S[13]!==$||S[14]!==D?(h=e=>{if(e.nativeEvent instanceof KeyboardEvent){if(_?.current!==document.activeElement)return void e.preventDefault();if("Enter"===e.key||" "===e.key){e.preventDefault(),D?.(),I?.current?.click();return}}if(e.nativeEvent instanceof MouseEvent){if(e.metaKey||e.ctrlKey||1===e.button){e.preventDefault(),$(e);return}D?.(),I?.current?.click()}},S[13]=$,S[14]=D,S[15]=h):h=S[15];let U=h,V=N.fileName??"";S[16]!==P||S[17]!==V||S[18]!==$?(y=(0,n.jsx)(o.A,{href:P,muted:!0,ref:I,role:"presentation",className:"fgColor-default",tabIndex:-1,onClick:$,children:V}),S[16]=P,S[17]=V,S[18]=$,S[19]=y):y=S[19];let H=y,L=N.diff.pathDigest===w;return S[20]!==N.diff.changeType||S[21]!==N.diff.isSymlink?(g=(0,n.jsx)(c.G.LeadingVisual,{children:(0,n.jsx)(x,{changeType:N.diff.changeType,isSymlink:N.diff.isSymlink})}),S[20]=N.diff.changeType,S[21]=N.diff.isSymlink,S[22]=g):g=S[22],S[23]!==H||S[24]!==V||S[25]!==k?(v=k?(0,n.jsx)(s.m,{text:V,direction:"ne",children:H}):H,S[23]=H,S[24]=V,S[25]=k,S[26]=v):v=S[26],S[27]!==F||S[28]!==T||S[29]!==E?(j=(!!E||T)&&(0,n.jsx)(c.G.TrailingVisual,{children:(0,n.jsxs)("div",{className:"d-flex flex-items-center flex-row",children:[!!E&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.CommentIcon,{}),(0,n.jsx)("div",{className:"ml-1 text-bold fgColor-default f6",children:E<10?E:"9+"})]}),F]})}),S[27]=F,S[28]=T,S[29]=E,S[30]=j):j=S[30],S[31]!==b||S[32]!==N.diff.path||S[33]!==N.diff.pathDigest||S[34]!==U||S[35]!==A||S[36]!==v||S[37]!==j||S[38]!==L||S[39]!==g?(C=(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(c.G.Item,{defaultExpanded:!0,"aria-label":A,"aria-level":b,current:L,id:N.diff.path,onSelect:U,ref:_,className:"DiffFileTree-module__file-tree-row--GJi_6",children:[g,v,j]},N.diff.pathDigest)}),S[31]=b,S[32]=N.diff.path,S[33]=N.diff.pathDigest,S[34]=U,S[35]=A,S[36]=v,S[37]=j,S[38]=L,S[39]=g,S[40]=C):C=S[40],C}),g=(0,l.memo)(function e({directory:t,depth:i=0,leadingPath:r="",sortByDiffOrder:a,onSelect:s,hash:o,fileNodeRenderer:f}){let u=r?`${r}/`:"",h=(0,l.useRef)(null),p=(0,l.useRef)(null),x=(0,m.Z)({focusRowRef:p,mouseRowRef:h});if(!t.files.length&&1===t.directories.length)return(0,n.jsx)(n.Fragment,{children:t.directories.map(r=>(0,n.jsx)(e,{depth:0===i?1:i,directory:r,leadingPath:`${u}${t.name}`,sortByDiffOrder:a,onSelect:s,hash:o,fileNodeRenderer:f},r.path))});function y(){return(0,n.jsx)(v,{directory:t,depth:i,sortByDiffOrder:a,onSelect:s,hash:o,fileNodeRenderer:f})}return 0===i?y():(0,n.jsxs)(c.G.Item,{ref:p,defaultExpanded:!0,id:t.path,children:[(0,n.jsx)(c.G.LeadingVisual,{children:(0,n.jsx)(c.G.DirectoryIcon,{})}),(0,n.jsx)("span",{ref:h,children:`${u}${t.name}`}),x&&(0,n.jsx)(d.m,{"data-testid":`${t.name}-directory-item-tooltip`,id:`${t.name}-directory-item-tooltip`,contentRef:p,"aria-label":`${u}${t.name}`,open:!0,direction:"ne"}),(0,n.jsx)(c.G.SubTree,{children:y()})]},t.path)}),v=(0,l.memo)(function(e){let t,i,a,l=(0,r.c)(19),{directory:s,fileNodeRenderer:o,sortByDiffOrder:c,depth:d,onSelect:f,hash:u}=e,m=void 0===d?0:d;l[0]!==s.directories||l[1]!==s.files||l[2]!==c?(t=s.files.map(C).concat(s.directories.map(S)),c?t.sort(N):t.sort(b),l[0]=s.directories,l[1]=s.files,l[2]=c,l[3]=t):t=l[3];let h=t;if(l[4]!==m||l[5]!==o||l[6]!==u||l[7]!==h||l[8]!==f||l[9]!==c){let e;l[11]!==m||l[12]!==o||l[13]!==u||l[14]!==f||l[15]!==c?(e=e=>"file"!==e.pathType?(0,n.jsx)(g,{depth:m+1,directory:e.node,fileNodeRenderer:o,sortByDiffOrder:c,onSelect:f,hash:u},e.path):o?o({onSelect:f,hash:u,file:e.node,depth:m+1}):(0,n.jsx)(y,{depth:m+1,file:e.node,onSelect:f,hash:u},e.path),l[11]=m,l[12]=o,l[13]=u,l[14]=f,l[15]=c,l[16]=e):e=l[16],i=h.map(e),l[4]=m,l[5]=o,l[6]=u,l[7]=h,l[8]=f,l[9]=c,l[10]=i}else i=l[10];return l[17]!==i?(a=(0,n.jsx)(n.Fragment,{children:i}),l[17]=i,l[18]=a):a=l[18],a}),j=(0,l.memo)(function(e){let t,i,a,l=(0,r.c)(11),{diffs:s,fileNodeRenderer:o,sortByDiffOrder:d,className:u,onSelect:m}=e;l[0]!==s?(t=(0,f.xY)(s),l[0]=s,l[1]=t):t=l[1];let p=t,{selectedPathDigest:x}=(0,h.U)();return l[2]!==o||l[3]!==p||l[4]!==m||l[5]!==x||l[6]!==d?(i=(0,n.jsx)(g,{directory:p,fileNodeRenderer:o,sortByDiffOrder:d,onSelect:m,hash:x}),l[2]=o,l[3]=p,l[4]=m,l[5]=x,l[6]=d,l[7]=i):i=l[7],l[8]!==u||l[9]!==i?(a=(0,n.jsx)(c.G,{"aria-label":"File Tree",className:u,children:i}),l[8]=u,l[9]=i,l[10]=a):a=l[10],a});try{y.displayName||(y.displayName="File")}catch{}try{g.displayName||(g.displayName="Directory")}catch{}try{v.displayName||(v.displayName="DirectoryRendering")}catch{}try{j.displayName||(j.displayName="DiffFileTree")}catch{}function C(e){return{path:e.filePath,pathType:"file",node:e,sortOrder:e.sortOrder}}function S(e){return{path:e.path,pathType:"directory",node:e,sortOrder:e.sortOrder}}function N(e,t){return e.sortOrder-t.sortOrder}function b(e,t){return(0,f.wH)(e.path,t.path)}},3536:(e,t,i)=>{i.d(t,{I:()=>s,d_:()=>o,wu:()=>l});var n=i(96379),r=i(96540),a=i(4095);function l(e,t){let[i,l]=(0,r.useState)(a.UI);return(0,r.useEffect)(()=>{if(!e)return;let t=!1;return(async()=>{l(a.UI);let i=await (0,n.Sr)(e);if(!t)try{if(i.ok){let e=await i.json();e.loading=!1,e&&l(e)}else l(a.Xx)}catch{l(a.Xx)}})(),function(){t=!0}},[e,t]),i}function s(e){let[t,i]=(0,r.useState)(void 0);return(0,r.useEffect)(()=>{e&&(async()=>{let t=await (0,n.Sr)(e);try{if(t.ok){let e=await t.json();e&&i(e.data)}}catch{}})()},[e]),t}function o(e,t,i,l){let[s,o]=(0,r.useState)(a.UI),c=(0,r.useRef)([...Array(i)]),d=(0,r.useRef)(t);return(0,r.useEffect)(()=>{if(!e)return;let i=!1;async function r(t){let a=await (0,n.Sr)(`${e}?start_entry=${t}`);if(!i)try{if(a.ok){let e=await a.json();if(e){let t=0;for(let i=d.current;i<e.nextIndex;i++)c.current[i]=e.deferredCommits[t],t++;e.deferredCommits=c.current,e.loadMore&&d.current!==e.nextIndex?(d.current=e.nextIndex,e.error=!1,o(e),setTimeout(()=>r(e.nextIndex),0)):(d.current===e.nextIndex?e.error=!0:e.error=!1,o(e))}}else o(e=>({...e,loading:!1,error:!0,extraDiffEntries:c.current}))}catch{o(e=>({...e,loading:!1,deferredCommits:c.current}))}}return r(t),function(){i=!0}},[e,l,t]),(0,r.useEffect)(()=>{c.current=[],d.current=t},[e,l,t]),s}},4095:(e,t,i)=>{i.d(t,{M2:()=>o,NO:()=>c,UI:()=>a,Xx:()=>l,ej:()=>f,xs:()=>d});var n=i(74848),r=i(96540);let a={deferredCommits:[],renameHistory:null,loading:!0},l={deferredCommits:[],renameHistory:null,loading:!1},s=(0,r.createContext)(a);function o({children:e,deferredData:t}){return(0,n.jsx)(s.Provider,{value:t,children:e})}function c(e){let t=(0,r.useContext)(s),i=t.error,n=t.deferredCommits?.find(t=>t?.oid===e);return i&&void 0===n&&(n={oid:e,statusCheckStatus:void 0}),n}function d(){return(0,r.useContext)(s).loading}function f(){return(0,r.useContext)(s).renameHistory}try{s.displayName||(s.displayName="DeferredCommitDataContext")}catch{}try{o.displayName||(o.displayName="DeferredCommitDataProvider")}catch{}},8624:(e,t,i)=>{i.d(t,{L:()=>o});var n=i(74848),r=i(21728),a=i(38621),l=i(26108),s=i(34164);let o=i(96540).forwardRef((e,t)=>{let i,o,c,d=(0,r.c)(17),{expanded:f,testid:u,ariaLabel:m,ariaControls:h,onToggleExpanded:p,alignment:x,dataHotkey:y,className:g,size:v,tooltipDirection:j,variant:C}=e,S=f?`collapse-${u}`:`expand-${u}`,N=f?"left"===x?a.SidebarExpandIcon:a.SidebarCollapseIcon:"left"===x?a.SidebarCollapseIcon:a.SidebarExpandIcon;d[0]!==p?(i=e=>{p(e)},d[0]=p,d[1]=i):i=d[1];let b=C??"invisible";return d[2]!==g?(o=(0,s.$)(g,"fgColor-muted"),d[2]=g,d[3]=o):o=d[3],d[4]!==h||d[5]!==m||d[6]!==y||d[7]!==f||d[8]!==t||d[9]!==v||d[10]!==S||d[11]!==N||d[12]!==i||d[13]!==b||d[14]!==o||d[15]!==j?(c=(0,n.jsx)(l.K,{"aria-label":m,tooltipDirection:j,ref:t,"data-testid":S,"aria-expanded":f,"aria-controls":h,icon:N,"data-hotkey":y,onClick:i,variant:b,size:v,className:o}),d[4]=h,d[5]=m,d[6]=y,d[7]=f,d[8]=t,d[9]=v,d[10]=S,d[11]=N,d[12]=i,d[13]=b,d[14]=o,d[15]=j,d[16]=c):c=d[16],c});o.displayName="ExpandButton"},13071:(e,t,i)=>{i.d(t,{C:()=>s});var n=i(74848),r=i(44185),a=i(81945),l=i(42257);function s({deferredData:e,oid:t,repo:i,helpUrl:s}){let o=void 0===e,c="";try{c=e?.statusCheckStatus?.short_text?.split("checks")[0]?.trim()||""}catch{}return(0,n.jsxs)(n.Fragment,{children:[o&&(0,n.jsx)(a.O,{className:"ml-2",variant:"rounded",width:"62px"}),e?.statusCheckStatus&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{className:"d-flex ml-2 mr-1",children:"\xb7"}),(0,n.jsx)(l.d,{oid:t,status:e?.statusCheckStatus?.state,descriptionString:c,repo:i}),e?.signatureInformation&&e?.verifiedStatus!=="unsigned"&&(0,n.jsx)("span",{className:"d-flex ml-2",children:"\xb7"})]}),e?.signatureInformation&&(0,n.jsx)("div",{className:"ml-2",children:(0,n.jsx)(r.h,{commitOid:t,hasSignature:!0,verificationStatus:e.verifiedStatus,signature:{helpUrl:s,...e.signatureInformation}})})]})}try{s.displayName||(s.displayName="DeferredCommitHeaderData")}catch{}},16790:(e,t,i)=>{i.d(t,{eX:()=>s,xe:()=>o,zq:()=>l});var n=i(74848),r=i(96540);let a=(0,r.createContext)({loggingPayload:void 0,loggingPrefix:void 0});function l({children:e,loggingInfo:t}){return(0,n.jsx)(a.Provider,{value:t,children:e})}function s(){let e=(0,r.useContext)(a);return void 0!==e.loggingPayload&&void 0!==e.loggingPrefix}function o(){return(0,r.useContext)(a)}try{a.displayName||(a.displayName="CommitsLoggingContext")}catch{}try{l.displayName||(l.displayName="CommitsLoggingInfoProvider")}catch{}},27028:(e,t,i)=>{i.d(t,{G:()=>$,Q:()=>A});var n=i(74848),r=i(21728),a=i(38621),l=i(5524),s=i(94236),o=i(26108),c=i(21373),d=i(19415),f=i(96540),u=i(21067),m=i(25407),h=i(96379);function p(e,t){let i,n=(0,r.c)(5),a=(t??[]).filter(e=>!e.dismissed);if(n[0]!==a||n[1]!==e){let t;n[3]!==e?(t=t=>t.name===e,n[3]=e,n[4]=t):t=n[4],i=a.filter(t),n[0]=a,n[1]=e,n[2]=i}else i=n[2];return 0===i.length}var x=i(70719),y=i(34164);let g="compact_diff_lines";function v(e){let t,i,a,l,s,o,v,S,N,b,w,D,_,I,P,k=(0,r.c)(19),{userNotices:E}=e,T=p(g,E),{dismissNotice:O}=(_=(0,r.c)(5),I=p(g,E),_[0]!==I||_[1]!==g?(w=()=>{(0,u.M3)()&&!I&&(0,h.DI)((0,m.VB1)({noticeName:g}),{method:"POST"})},_[0]=I,_[1]=g,_[2]=w):w=_[2],P=w,_[3]!==P?(D={dismissNotice:P},_[3]=P,_[4]=D):D=_[4],D);k[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:C,onError:j},k[0]=t):t=k[0];let{mutate:R}=(0,x.U)(t),[A,F]=(0,f.useState)(!0);k[1]!==O||k[2]!==R?(i=()=>{R({lineSpacing:"compact"}),F(!1),O()},k[1]=O,k[2]=R,k[3]=i):i=k[3];let $=i;k[4]!==O?(a=()=>{F(!1),O()},k[4]=O,k[5]=a):a=k[5];let U=a;return T?null:(k[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,y.$)("d-flex flex-column gap-2","DiffCompactLinesPopover-module__PopoverContent--HUydq"),s=(0,n.jsx)("h2",{className:"DiffCompactLinesPopover-module__Heading--hFmwp",children:"Customizable line height"}),o=(0,n.jsx)("p",{children:"The default line height has been increased for improved accessibility. You can choose to enable a more compact line height from the view settings menu."}),k[6]=l,k[7]=s,k[8]=o):(l=k[6],s=k[7],o=k[8]),k[9]!==$?(v=(0,n.jsx)(c.Q,{onClick:$,children:"Enable compact line height"}),k[9]=$,k[10]=v):v=k[10],k[11]!==U?(S=(0,n.jsx)(c.Q,{onClick:U,variant:"invisible",children:"Dismiss"}),k[11]=U,k[12]=S):S=k[12],k[13]!==v||k[14]!==S?(N=(0,n.jsxs)(d.A.Content,{className:l,children:[s,o,(0,n.jsxs)("div",{className:"d-flex gap-2 flex-row w-full flex-wrap",children:[v,S]})]}),k[13]=v,k[14]=S,k[15]=N):N=k[15],k[16]!==A||k[17]!==N?(b=(0,n.jsx)(d.A,{open:A,caret:"top-right",className:"DiffCompactLinesPopover-module__PopoverContainer--A4URR",children:N}),k[16]=A,k[17]=N,k[18]=b):b=k[18],b)}function j(){}function C(){}try{v.displayName||(v.displayName="DiffCompactLinesPopover")}catch{}var S=i(79472);function N(e){let t,i,a,s,o,c=(0,r.c)(16),{whitespacePreferenceAvailable:d,lineSpacingPreferenceAvailable:f,defaultHideWhitespace:u,onUpdateWhitespace:m,reloadOnChange:h}=e,p=void 0===d||d,y=void 0===f||f,{data:g}=(0,S.ID)(),v=(0,S.Qn)(void 0!==u&&u);c[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:w,onError:b},c[0]=t):t=c[0];let{mutate:j}=(0,x.U)(t);c[1]!==v||c[2]!==m||c[3]!==h?(i=()=>{(0,S.bJ)("w",v?"0":"1"),m?.(!v),void 0!==h&&h()},c[1]=v,c[2]=m,c[3]=h,c[4]=i):i=c[4];let C=i;return g&&(p||y)?(c[5]!==v||c[6]!==C||c[7]!==p?(a=p&&(0,n.jsx)(l.l.Item,{selected:v,onSelect:C,children:"Hide whitespace"}),c[5]=v,c[6]=C,c[7]=p,c[8]=a):a=c[8],c[9]!==g||c[10]!==y||c[11]!==j?(s=y&&(0,n.jsx)(l.l.Item,{selected:"compact"===g.lineSpacing,onSelect:()=>j({lineSpacing:"compact"===g.lineSpacing?"relaxed":"compact"}),children:"Compact line height"}),c[9]=g,c[10]=y,c[11]=j,c[12]=s):s=c[12],c[13]!==a||c[14]!==s?(o=(0,n.jsxs)(l.l.Group,{"aria-label":"Format",selectionVariant:"multiple",variant:"subtle",children:[a,s]}),c[13]=a,c[14]=s,c[15]=o):o=c[15],o):null}function b(){}function w(){}try{N.displayName||(N.displayName="DiffLinePresentationToggles")}catch{}function D(e){let t,i,a,s,o,c,d,f=(0,r.c)(17),{reloadOnChange:u}=e,m=void 0!==u&&u,{data:h}=(0,S.ID)(),p=h?.splitPreference;f[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:I,onError:_},f[0]=t):t=f[0];let{mutate:y}=(0,x.U)(t);f[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(l.l.GroupHeading,{children:"Layout"}),f[1]=i):i=f[1];let g="unified"===p;f[2]!==m||f[3]!==y?(a=()=>{y({splitPreference:"unified"}),(0,S.bJ)("diff","unified"),m&&window.location.reload()},f[2]=m,f[3]=y,f[4]=a):a=f[4],f[5]!==g||f[6]!==a?(s=(0,n.jsx)(l.l.Item,{selected:g,onSelect:a,children:"Unified"}),f[5]=g,f[6]=a,f[7]=s):s=f[7];let v="split"===p;return f[8]!==m||f[9]!==y?(o=()=>{y({splitPreference:"split"}),(0,S.bJ)("diff","split"),m&&window.location.reload()},f[8]=m,f[9]=y,f[10]=o):o=f[10],f[11]!==v||f[12]!==o?(c=(0,n.jsx)(l.l.Item,{selected:v,onSelect:o,children:"Split"}),f[11]=v,f[12]=o,f[13]=c):c=f[13],f[14]!==s||f[15]!==c?(d=(0,n.jsxs)(l.l.Group,{selectionVariant:"single",children:[i,s,c]}),f[14]=s,f[15]=c,f[16]=d):d=f[16],d}function _(){}function I(){}try{D.displayName||(D.displayName="DiffViewPreferenceToggle")}catch{}var P=i(18799);function k(){let e,t,i,a=(0,r.c)(7),{data:s}=(0,S.ID)();a[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:T,onError:E},a[0]=e):e=a[0];let{mutate:o}=(0,x.U)(e);if(!s)return null;let c=s.commentsPreference===P.sI.Collapsed;return a[1]!==c||a[2]!==o?(t=()=>o({commentsPreference:c?P.sI.Visible:P.sI.Collapsed}),a[1]=c,a[2]=o,a[3]=t):t=a[3],a[4]!==c||a[5]!==t?(i=(0,n.jsx)(l.l.Group,{"aria-label":"Comments",selectionVariant:"single",children:(0,n.jsx)(l.l.Item,{role:"menuitemcheckbox",selected:c,onSelect:t,children:"Minimize comments"})}),a[4]=c,a[5]=t,a[6]=i):i=a[6],i}function E(){}function T(){}try{k.displayName||(k.displayName="DiffCommentsPreferenceToggle")}catch{}var O=i(30459);let R=["layout","comments","whitespace","line-spacing"];function A(e){let t,i,a,s,o,c,d,f,u,m=(0,r.c)(29),{additionalPreferences:h,defaultHideWhitespace:p,enabledDiffViewSettings:x,onUpdateWhitespace:y,reloadOnSplitPreferenceChange:g,reloadOnWhitespaceChange:v}=e,j=void 0===x?R:x,C=void 0!==g&&g,S=void 0!==v&&v;m[0]!==j?(t=j.includes("layout")&&j.includes("comments"),m[0]=j,m[1]=t):t=m[1];let b=t;m[2]!==j?(i=j.includes("line-spacing")||j.includes("whitespace"),m[2]=j,m[3]=i):i=m[3];let w=i;m[4]!==j||m[5]!==w?(a=w&&(j.includes("comments")||j.includes("layout")),m[4]=j,m[5]=w,m[6]=a):a=m[6];let _=a;return m[7]!==j||m[8]!==C?(s=j.includes("layout")&&(0,n.jsx)(D,{reloadOnChange:C}),m[7]=j,m[8]=C,m[9]=s):s=m[9],m[10]!==b?(o=b&&(0,n.jsx)(l.l.Divider,{}),m[10]=b,m[11]=o):o=m[11],m[12]!==j?(c=j.includes("comments")&&(0,n.jsx)(k,{}),m[12]=j,m[13]=c):c=m[13],m[14]!==_?(d=_&&(0,n.jsx)(l.l.Divider,{}),m[14]=_,m[15]=d):d=m[15],m[16]!==p||m[17]!==j||m[18]!==y||m[19]!==S||m[20]!==w?(f=w?(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(N,{defaultHideWhitespace:p,lineSpacingPreferenceAvailable:j.includes("line-spacing"),whitespacePreferenceAvailable:j.includes("whitespace"),onUpdateWhitespace:y,reloadOnChange:S?F:void 0})}):null,m[16]=p,m[17]=j,m[18]=y,m[19]=S,m[20]=w,m[21]=f):f=m[21],m[22]!==h||m[23]!==d||m[24]!==f||m[25]!==s||m[26]!==o||m[27]!==c?(u=(0,n.jsxs)(n.Fragment,{children:[s,o,c,d,f,h]}),m[22]=h,m[23]=d,m[24]=f,m[25]=s,m[26]=o,m[27]=c,m[28]=u):u=m[28],u}function F(){return window.location.reload()}function $(e){let t,i,c,d,f,u,m=(0,r.c)(21),{additionalPreferences:h,invisible:p,defaultHideWhitespace:x,enabledDiffViewSettings:y,onUpdateWhitespace:g,reloadOnSplitPreferenceChange:j,reloadOnWhitespaceChange:C,small:S,userNotices:N}=e,b=void 0===y?R:y,w=void 0!==j&&j,D=void 0!==C&&C,{sendAnalyticsEvent:_}=(0,O.s)();m[0]!==_?(t=()=>{_("diff_view.settings.open","DIFF_VIEW_SETTINGS_BUTTON")},m[0]=_,m[1]=t):t=m[1];let I=t,P=S?"small":"medium",k=void 0===p||p?"invisible":"default";return m[2]!==I||m[3]!==P||m[4]!==k?(i=(0,n.jsx)(s.W.Anchor,{children:(0,n.jsx)(o.K,{"aria-label":"Open diff view settings",icon:a.GearIcon,size:P,variant:k,onClick:I})}),m[2]=I,m[3]=P,m[4]=k,m[5]=i):i=m[5],m[6]!==h||m[7]!==x||m[8]!==b||m[9]!==g||m[10]!==w||m[11]!==D?(c=(0,n.jsx)(s.W.Overlay,{children:(0,n.jsx)(l.l,{children:(0,n.jsx)(A,{additionalPreferences:h,defaultHideWhitespace:x,enabledDiffViewSettings:b,onUpdateWhitespace:g,reloadOnSplitPreferenceChange:w,reloadOnWhitespaceChange:D})})}),m[6]=h,m[7]=x,m[8]=b,m[9]=g,m[10]=w,m[11]=D,m[12]=c):c=m[12],m[13]!==i||m[14]!==c?(d=(0,n.jsxs)(s.W,{children:[i,c]}),m[13]=i,m[14]=c,m[15]=d):d=m[15],m[16]!==N?(f=(0,n.jsx)(v,{userNotices:N}),m[16]=N,m[17]=f):f=m[17],m[18]!==d||m[19]!==f?(u=(0,n.jsxs)(n.Fragment,{children:[d,f]}),m[18]=d,m[19]=f,m[20]=u):u=m[20],u}try{A.displayName||(A.displayName="DiffViewSettingsMenuContent")}catch{}try{$.displayName||($.displayName="DiffViewSettings")}catch{}},42257:(e,t,i)=>{i.d(t,{d:()=>a});var n=i(74848),r=i(99896);function a({status:e,oid:t,repo:i,badgeProps:a={},descriptionString:l=""}){let[s,o]=(0,r.ym)(t,i);return e?(0,n.jsx)(r.B6,{disablePopover:!1,size:"small",statusRollup:e,combinedStatus:s,descriptionText:l,onWillOpenPopup:o,buttonClassName:"AsyncChecksStatusBadge-module__ChecksStatusBadge--Ddd3K",...a}):null}try{a.displayName||(a.displayName="AsyncChecksStatusBadge")}catch{}},43147:(e,t,i)=>{i.d(t,{w:()=>o});var n=i(74848),r=i(98755),a=i(30459),l=i(16790),s=i(68534);function o({sha:e,direction:t="s",className:i}){let{sendAnalyticsEvent:o}=(0,a.s)(),{loggingPrefix:c,loggingPayload:d}=(0,l.xe)(),f=(0,l.eX)();return(0,n.jsx)("div",{onClick:()=>{f&&o(`${c}click`,"COPY_SHA_CLICKED",d)},children:(0,n.jsx)(r.T,{textToCopy:e,ariaLabel:`Copy full SHA for ${(0,s.F)(e)}`,tooltipProps:{direction:t},size:"small",className:i})})}try{o.displayName||(o.displayName="CopySHA")}catch{}},48926:(e,t,i)=>{i.d(t,{C:()=>d,j:()=>c});var n=i(74848),r=i(61200),a=i(81945),l=i(54571),s=i(62935),o=i(4095);function c({commit:e,repo:t,children:i,settings:c,textVariant:d}){let f=(0,o.NO)(e.oid),[u]=(0,l.I)(()=>!1,!0,[]);return(0,n.jsxs)(r.jF,{authors:e.authors,committer:e.committer,committerAttribution:e.committerAttribution,onBehalfOf:f?.onBehalfOf,repo:t,includeVerbs:!0,authorSettings:{fontWeight:"normal",fontColor:"fg.muted",avatarSize:16,...c},textVariant:d,children:[!u&&(0,n.jsx)(s.A,{className:"pl-1",datetime:e.committedDate}),u&&(0,n.jsx)(a.O,{variant:"rounded",className:"d-none d-sm-flex ml-1",width:"60px"}),i]})}function d({commit:e,repo:t,textVariant:i}){let[o]=(0,l.I)(()=>!1,!0,[]);return(0,n.jsxs)(r.Cf,{pusher:e.pusher,repo:t,textVariant:i,children:[!o&&(0,n.jsx)(s.A,{className:"pl-1",datetime:e.pushedDate}),o&&(0,n.jsx)(a.O,{variant:"rounded",className:"d-none d-sm-flex ml-1",width:"60px"})]})}try{c.displayName||(c.displayName="CommitAttribution")}catch{}try{d.displayName||(d.displayName="PushAttribution")}catch{}},68534:(e,t,i)=>{i.d(t,{F:()=>n});function n(e){return e.slice(0,7)}},70719:(e,t,i)=>{i.d(t,{U:()=>c});var n=i(21728),r=i(96379),a=i(97665),l=i(94747),s=i(79472),o=i(21067);function c(e){let t,i,r,o,c=(0,n.c)(10),{onSuccess:f,onError:u}=e,m=(0,a.jE)();return c[0]!==m?(t=async e=>{m.setQueryData((0,s.w$)(),t=>({...t,...e}))},c[0]=m,c[1]=t):t=c[1],c[2]!==f?(i=()=>{f()},c[2]=f,c[3]=i):i=c[3],c[4]!==u?(r=e=>{u(e)},c[4]=u,c[5]=r):r=c[5],c[6]!==t||c[7]!==i||c[8]!==r?(o={mutationFn:d,onMutate:t,onSuccess:i,onError:r},c[6]=t,c[7]=i,c[8]=r,c[9]=o):o=c[9],(0,l.n)(o)}async function d(e){let{commentsPreference:t,lineSpacing:i,splitPreference:n}=e;if(!(0,o.M3)())return;let a={};t&&(a={...a,commentsPreference:t}),i&&(a={...a,lineSpacing:i}),n&&(a={...a,diff:n});let l=await (0,r.Sr)("/users/diffview",{method:"POST",headers:{Accept:"application/json"},body:a}),s=await l.json();if(l.ok)return s;throw Error(s.error||"Unknown error occurred",{cause:l.status})}},70843:(e,t,i)=>{i.d(t,{L:()=>a});var n=i(21728),r=i(96540);function a(e){let t,i,a=(0,n.c)(3);a[0]!==e?(t=()=>{if(!e)return;let t=document.querySelector(".footer");if(t)return t.hidden=!0,()=>{t.hidden=!1}},i=[e],a[0]=e,a[1]=t,a[2]=i):(t=a[1],i=a[2]),(0,r.useEffect)(t,i)}},71833:(e,t,i)=>{i.d(t,{B:()=>a});var n=i(25407),r=i(96379);async function a(e,t){if(!t)return;let i=new FormData;i.set("file_tree_visible",e?"true":"false"),(0,r.DI)((0,n.h6D)(t),{method:"PUT",body:i,headers:{Accept:"application/json"}})}},78252:(e,t,i)=>{i.d(t,{$:()=>s});var n=i(74848),r=i(38621),a=i(5524),l=i(34720);let s=e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.l.Divider,{}),(0,n.jsx)(l.t,{eventContext:{prx:!0},leadingVisual:(0,n.jsx)(r.CopilotIcon,{}),fileDiffReference:e.copilotChatReference})]});try{s.displayName||(s.displayName="CopilotDiffChatBlobActionsMenuItems")}catch{}},81355:(e,t,i)=>{i.d(t,{U:()=>s});var n=i(21728),r=i(96540),a=i(61583),l=i(71315);function s(){let e,t,i,s,o=(0,n.c)(6),[c,d]=(0,r.useState)("");o[0]===Symbol.for("react.memo_cache_sentinel")?(e=()=>{d(((0,a.pd)(l.fV.hash??"")??"").replace("diff-",""))},o[0]=e):e=o[0];let f=e;o[1]===Symbol.for("react.memo_cache_sentinel")?(t=()=>(window.addEventListener("hashchange",f),f(),()=>{window.removeEventListener("hashchange",f)}),i=[f],o[1]=t,o[2]=i):(t=o[1],i=o[2]),(0,r.useEffect)(t,i);let u=c?`diff-${c}`:"";return o[3]!==c||o[4]!==u?(s={selectedPathDigest:c,selectedFullDiffHash:u,setSelectedHash:d},o[3]=c,o[4]=u,o[5]=s):s=o[5],s}}}]);
//# sourceMappingURL=97633-91fba550b291.js.map