"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[87670],{46747:(e,t,r)=>{r.d(t,{d:()=>i});var a=r(31223),l=r(23125),n=r(96540);let i=(e,t,{leading:r=!1,maxWait:i,trailing:s=!0,onChangeBehavior:o="flush"}={})=>{let d=(0,a.M)(e),c=(0,n.useMemo)(()=>{let e=void 0===i?{leading:r,trailing:s}:{leading:r,trailing:s,maxWait:i};return(0,l.A)((...e)=>d.current(...e),t,e)},[d,t,r,i,s]);return(0,n.useEffect)(()=>()=>{c?.[o]()},[c,o]),c}},58615:(e,t,r)=>{r.d(t,{M:()=>d,s:()=>c});var a=r(50467),l=r(82075),n=r(96540);let i=(0,l.A)("localStorage"),s="local-storage-update",o=class UseLocalStorageUpdateEvent extends Event{constructor(e,t){super(s),(0,a._)(this,"storageKey",void 0),(0,a._)(this,"storageValue",void 0),this.storageKey=e,this.storageValue=t}};function d(e,t){let r=(0,n.useRef)(t);(0,n.useEffect)(()=>{r.current=t});let[a,l]=(0,n.useState)(()=>{let t=i.getItem(e);return t?JSON.parse(t):r.current}),d=(0,n.useCallback)(t=>{l(t??r.current),void 0===t?i.removeItem(e):i.setItem(e,JSON.stringify(t)),document.dispatchEvent(new o(e,t))},[e]);return(0,n.useEffect)(()=>{function t(t){t.storageKey===e&&l(t.storageValue??r.current)}document.addEventListener(s,t);let a=i.getItem(e);return a?l(JSON.parse(a)):l(r.current),()=>{document.removeEventListener(s,t)}},[e]),[a,d]}function c(e){for(let t of e)i.removeItem(t),document.dispatchEvent(new o(t,void 0))}},69895:(e,t,r)=>{let a;r.d(t,{j:()=>d});var l=r(96540);function n(){return a||(a=window.matchMedia("(prefers-reduced-motion: reduce)"))}function i(){return!1}function s(){return n().matches}function o(e){let t=n();return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}function d(){return(0,l.useSyncExternalStore)(o,s,i)}},87670:(e,t,r)=>{r.d(t,{Mp:()=>l.Mp,BS:()=>eD,Ux:()=>p,Hd:()=>l.Hd,vL:()=>l.vL,uN:()=>l.uN,cA:()=>l.cA,sH:()=>ej,AN:()=>l.AN,gB:()=>i.gB,IG:()=>l.IG,TT:()=>l.TT,Mk:()=>n.Mk,dU:()=>n.dU,FN:()=>n.FN,fF:()=>l.fF,E5:()=>l.E5,gY:()=>K,PM:()=>l.PM,zM:()=>l.zM,MS:()=>l.MS,FR:()=>l.FR,gl:()=>i.gl,_G:()=>i._G});var a=r(74848),l=r(48620),n=r(18831),i=r(43627),s=r(4559),o=r(71315),d=r(29731),c=r(54571),u=r(69895),m=r(58615),g=r(34164),v=r(96540),h=r(40961);let p=(0,v.createContext)(null);function f(e,t){let r=(0,v.useRef)(!1);(0,v.useEffect)(()=>(t?(document.body.classList.add(e),r.current=!0):(r.current&&document.body.classList.remove(e),r.current=!1),()=>{r.current&&document.body.classList.remove(e),r.current=!1}),[e,t])}let x=(0,v.createContext)(void 0);try{x.displayName||(x.displayName="RootElementContext")}catch{}var b=r(70170);let y=e=>`${e} successfully moved to first item in list.`,j=e=>`${e} successfully moved to last item in list.`,D=(e,t,r)=>`${e} successfully moved between ${t} and ${r}.`,N=e=>`${e} did not move.`,S=(e,t,r)=>`${e} will be between ${t} and ${r}.`,M="Move item before",C="Move item after",I="Move to position",A=()=>"",_=(0,b.s)(e=>{(0,s.i)(e,{assertive:!0})},100),w={onDragStart:A,onDragOver:A,onDragMove:A,onDragEnd:A,onDragCancel:A};function $({equalMessage:e,firstPositionMessage:t,lastPositionMessage:r,betweenBeforeMessage:a,betweenAfterMessage:l,newIndex:n,currentIndex:i,items:s,moveAction:o}){if(n===i)return e;if(0===n&&o!==C)return t;if(n===s.length-1&&o!==M)return r;switch(o){case M:return a;case C:return l;case I:if(n<i)return a;return l}}var k=r(50467);let E={start:[l.vL.Space,l.vL.Enter],cancel:[l.vL.Esc],end:[l.vL.Space,l.vL.Enter]};n.FN,n.Mk;let CustomKeyboardSensor=class CustomKeyboardSensor extends l.uN{};(0,k._)(CustomKeyboardSensor,"activators",[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=E,onActivation:r},{active:a})=>{let{code:l}=e.nativeEvent;if(t.start.includes(l)){let t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),r?.({event:e.nativeEvent}),!0)}return!1}},{eventName:"onClick",handler:(e,{onActivation:t})=>{e.preventDefault();let r=new KeyboardEvent("keydown",{key:"Enter",code:"Enter"});return t?.({event:r}),!0}}]);let T=({collisionRect:e,droppableRects:t,droppableContainers:r})=>{let a=(e.top+e.bottom)/2,l=[];for(let e of r){let{id:r}=e,n=t.get(r);if(n){let t=Math.abs(a-(n.top+n.bottom)/2);l.push({id:r,data:{droppableContainer:e,value:t}})}}return l.sort((e,t)=>e.data.value-t.data.value)},P="DragAndDropContainer-module__container--WugRR";var F=r(46747),L=r(96296);let K=()=>{let e=(0,v.useContext)(p);if(!e)throw Error("useDragAndDrop can only be accessed from a DragAndDropContext.Provider component");let{overId:t,dragIndex:r,moveToPosition:a,items:l,direction:n,moveDialogItem:i,openMoveDialog:s,isInDragMode:o}=e;return{isDropTarget:(0,v.useCallback)(e=>t===e||null,[t]),isBefore:e=>null!==r&&e<r,moveToPosition:a,items:l,direction:n,moveDialogItem:i,openMoveDialog:s,isInDragMode:o}};var R=r(38621),B=r(67988),G=r(21373),O=r(86877),q=r(5839),H=r(72511),z=r(15220);let U="MoveDialog-module__dialogBody--mAl8V";var V=r(83463),Q=r(99511);let X=(0,v.createContext)({formLabel:"",onChange:()=>{}});function Y(e){let{formProps:t,setIsInvalidOption:r,setHelperText:l,helperTextId:n}=e,{actions:i,onActionChange:s,actionsLabel:o}=t,[d,c]=(0,v.useState)(i[0]?.value),u=(0,v.useCallback)(e=>{s?.(e);let t=i.find(t=>t.value===e.target.value);t&&c(t.value)},[i,s]);return(0,a.jsx)(X.Provider,{value:(0,v.useMemo)(()=>({formLabel:d??"",onChange:(e,t)=>{l(e),r(t)},helperTextId:n}),[d,l,n,r]),children:(0,a.jsxs)("div",{className:(0,g.$)("MoveDialogForm-module__form--gHVpu"),children:[i.length>1&&(0,a.jsxs)(O.A,{required:!0,children:[(0,a.jsx)(O.A.Label,{children:o??"Action"}),(0,a.jsx)(L.A,{block:!0,onChange:u,children:i.map(e=>(0,a.jsx)(L.A.Option,{value:e.value,children:e.value},e.value))})]}),i.find(e=>e.value===d)?.renderInput]})})}let J=v.forwardRef((e,t)=>{let{helperText:r,isInvalid:l,...n}=e,{formLabel:i,onChange:s,helperTextId:o}=(0,v.useContext)(X);return(0,v.useEffect)(()=>{s(r??"",!!l)},[r,l,s]),(0,a.jsxs)(O.A,{required:!0,children:[(0,a.jsx)(O.A.Label,{children:i}),(0,a.jsx)(L.A,{block:!0,"aria-invalid":l,validationStatus:l?"error":void 0,"aria-describedby":o,ref:t,...n})]})});J.displayName="MoveDialogForm.SingleSelect";let W=v.forwardRef((e,t)=>{let{isInvalid:r,helperText:l,...n}=e,{formLabel:i,onChange:s,helperTextId:o}=(0,v.useContext)(X);return(0,v.useEffect)(()=>{s(l,!!r)},[l,r,s]),(0,a.jsxs)(O.A,{required:!0,children:[(0,a.jsx)(O.A.Label,{children:i}),(0,a.jsx)(Q.A,{block:!0,"aria-invalid":r,validationStatus:r?"error":void 0,"aria-describedby":o,ref:t,...n})]})});function Z(e){let{isInvalid:t,helperText:r,...l}=e,{formLabel:n,onChange:i}=(0,v.useContext)(X);(0,v.useEffect)(()=>{i(r,!!t)},[r,t,i]);let s={...l,renderAnchor:e=>{let{children:t,...r}=e;return(0,a.jsx)(G.Q,{trailingAction:R.TriangleDownIcon,block:!0,...r,children:t})}};return(0,a.jsxs)(O.A,{required:!0,children:[(0,a.jsx)(O.A.Label,{children:n}),(0,a.jsx)(q.X,{...s})]})}function ee(e){let{isInvalid:t,helperText:r,...l}=e,{formLabel:n,onChange:i,helperTextId:s}=(0,v.useContext)(X);(0,v.useEffect)(()=>{i(r,!!t)},[r,t,i]);let o={anchor:"button",anchorClassName:"MoveDialogForm-module__datePickerAnchor--cpNRJ",compressedHeader:!1,confirmation:!1,confirmUnsavedClose:!0,dateFormat:"long",placeholder:n,showTodayButton:!0,showClearButton:!1,variant:"single",weekStartsOn:"Sunday",...l};return(0,a.jsxs)(O.A,{required:!0,children:[(0,a.jsx)(O.A.Label,{children:n}),(0,a.jsx)(V.DatePicker,{...o,"aria-describedby":s,fieldName:n})]})}W.displayName="MoveDialogForm.Text",Y.SingleSelect=J,Y.Text=W,Y.MultiSelect=Z,Y.Date=ee,Y.SingleSelectOption=L.A.Option;try{Y.displayName||(Y.displayName="MoveDialogForm")}catch{}try{Z.displayName||(Z.displayName="MultiSelect")}catch{}try{ee.displayName||(ee.displayName="DateInput")}catch{}let et="move-dialog-title",er=({closeDialog:e,onSubmit:t,formProps:r,title:l,submitButtonLabel:n,returnFocusRef:i,...o})=>{let c,u,[m,h]=(0,v.useState)(!1),[p,f]=(0,v.useState)(!1),x="";o.multiSelectItems?c=o.selectPanelProps.selected[0]:x=o.selectedItem.value;let[b,y]=(0,v.useState)(""),j=(0,v.useId)(),D=(0,v.useRef)(null);(0,B.g)({containerRef:D,onClickOutside:e=>e.preventDefault()});let N=async e=>{if(e.preventDefault(),m){let e=D.current?.querySelector('[aria-invalid="true"]');e&&e.focus();return}await t?.(e)};return o.multiSelectItems&&(u={...o.selectPanelProps,selected:o.selectPanelProps.selected,onSelectedChange:e=>{o.multiSelectItems&&(e[0]!==c?f(!0):o.selectPanelProps.onSelectedChange?.(e))},renderAnchor:e=>{let{children:t,...r}=e;return(0,a.jsx)(G.Q,{trailingAction:R.TriangleDownIcon,block:!0,...r,children:t})}}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(z.l,{title:(0,a.jsx)("span",{className:(0,g.$)("MoveDialog-module__title--idZfs"),id:et,...(0,d.G)(et),children:l??(o.multiSelectItems?"Move selected items":"Move selected item")}),onClose:()=>{if(e(),o.multiSelectItems){let e,t,r=o.selectPanelProps.selected;(0,s.i)((e=r[0]?.text??"",t=r?.length??0,`Cancel moving ${e} and ${t} other items`),{assertive:!0})}else{let e;(0,s.i)((e=x,`Cancel moving ${e}`),{assertive:!0})}},width:"large",ref:D,renderBody:()=>(0,a.jsxs)("form",{onSubmit:N,...(0,d.G)("move-dialog-form"),onBlur:e=>e.stopPropagation(),className:(0,g.$)("MoveDialog-module__form--sQHkL"),noValidate:!0,"aria-labelledby":et,children:[(0,a.jsxs)(z.l.Body,{className:(0,g.$)(U),children:[(0,a.jsx)("div",{className:(0,g.$)("MoveDialog-module__dialogTitle--QuaQM"),children:o.multiSelectItems?(0,a.jsxs)(O.A,{required:!0,children:[(0,a.jsx)(O.A.Label,{requiredIndicator:!1,children:"Item(s)"}),(0,a.jsx)(q.X,{...u})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-bold pb-1",children:"Item"}),(0,a.jsx)("span",{children:x})]})}),(0,a.jsx)(Y,{formProps:r,setHelperText:y,setIsInvalidOption:h,helperTextId:j}),(0,a.jsxs)(H.A,{"aria-live":"assertive",variant:m?"danger":"default",id:j,...(0,d.G)("drag-and-drop-move-dialog-flash"),children:[m?(0,a.jsx)(R.AlertIcon,{}):(0,a.jsx)(R.InfoIcon,{}),b]})]}),(0,a.jsx)(z.l.Footer,{className:"p-2",children:(0,a.jsx)(G.Q,{type:"submit",variant:"primary",...(0,d.G)("drag-and-drop-move-dialog-move-item-button"),children:n??"Move"})})]}),returnFocusRef:i}),p&&(0,a.jsxs)(z.l,{width:"large",title:"Missing selection",onClose:()=>{o.multiSelectItems&&f(!1)},children:[(0,a.jsx)(z.l.Body,{className:(0,g.$)(U),children:"The first item you selected cannot be deselected when performing a move."}),(0,a.jsx)(z.l.Footer,{className:"p-2",children:(0,a.jsx)(G.Q,{type:"submit",variant:"primary",onClick:()=>{o.multiSelectItems&&f(!1)},children:"I understand"})})]})]})};try{er.displayName||(er.displayName="MoveDialog")}catch{}let ea=(e,t)=>e!==t+1&&e!==t,el=(e,t)=>e!==t-1&&e!==t,en=(e,t)=>void 0===t||t<0||t>=e.length||isNaN(t),ei=({closeDialog:e,dialogTitle:t,returnFocusRef:r})=>{let l=(0,v.useRef)(null),{moveDialogItem:n,moveToPosition:i,items:o}=K(),{title:c,index:u}=n??{title:"",index:-1},[m,g]=(0,v.useState)(!1),[h,p]=(0,v.useState)(),[f,x]=(0,v.useState)(o.some((e,t)=>ea(t,u))?M:o.some((e,t)=>el(t,u))?C:I),[b,A]=(0,v.useState)(""),_=(0,v.useMemo)(()=>e=>{let t="";if(void 0===e||en(o,e)){let r;t=void 0===e?"Entry is required.":e<0?"Entry must be greater than 0.":e>o.length?(r=o.length,`Entry must be less than or equal to ${r}.`):"Entry is invalid."}else{let r,a,l,n=o[e-1]?.title,i=o[e+1]?.title;t=$({equalMessage:(r=c,`${r} will not be moved.`),firstPositionMessage:(a=c,`${a} will be first item in the list.`),lastPositionMessage:(l=c,`${l} will be last item in the list.`),betweenBeforeMessage:S(c,n,o[e]?.title),betweenAfterMessage:S(c,o[e]?.title,i),newIndex:e,currentIndex:u,items:o,moveAction:f})}A(t)},[c,u,f,o]),w=(0,F.d)(_,100);(0,v.useEffect)(()=>{if(l.current?.value){let e=f===I?-1:0,t=parseInt(l.current?.value,10)+e;p(isNaN(t)?void 0:t),w(isNaN(t)?void 0:t)}},[w,l,f]);let k=async()=>{if(void 0!==h){switch(f){case I:h>=u?await i(u,h,!1):await i(u,h,!0);break;case M:await i(u,h,!0);break;default:await i(u,h,!1)}e(),function({newIndex:e,items:t,title:r,...a}){let l=t[e-1]?.title,n=t[e+1]?.title,i=$({equalMessage:N(r),firstPositionMessage:y(r),lastPositionMessage:j(r),betweenBeforeMessage:D(r,l,t[e]?.title),betweenAfterMessage:D(r,t[e]?.title,n),newIndex:e,items:t,...a});(0,s.i)(i,{assertive:!0})}({newIndex:h,currentIndex:u,items:o,title:c,moveAction:f})}},E=e=>{en(o,e)?g(!0):g(!1),p(e&&isNaN(e)?void 0:e),w(e)};return(0,a.jsx)(er,{closeDialog:e,title:t,formProps:{actions:[...o.some((e,t)=>ea(t,u))?[{value:M,renderInput:(0,a.jsx)(Y.SingleSelect,{ref:f===M?l:void 0,helperText:b,onChange:e=>{E(Number(e.currentTarget.value))},isInvalid:!1,...(0,d.G)("drag-and-drop-move-dialog-position-input"),children:o.map((e,t)=>{if(ea(t,u))return(0,a.jsx)(L.A.Option,{value:t.toString(),children:e.title},`${e.title}-${t+1}`)})})}]:[],...o.some((e,t)=>el(t,u))?[{value:C,renderInput:(0,a.jsx)(Y.SingleSelect,{ref:f===C?l:void 0,helperText:b,onChange:e=>{E(Number(e.currentTarget.value))},isInvalid:!1,...(0,d.G)("drag-and-drop-move-dialog-position-input"),children:o.map((e,t)=>{if(el(t,u))return(0,a.jsx)(L.A.Option,{value:t.toString(),children:e.title},`${e.title}-${t+1}`)})})}]:[],{value:I,renderInput:(0,a.jsx)(Y.Text,{ref:f===I?l:void 0,helperText:b,min:1,max:o.length,defaultValue:u+1,type:"number",onChange:e=>{E(e.currentTarget.value?parseInt(e.currentTarget.value,10)-1:void 0)},isInvalid:m,...(0,d.G)("drag-and-drop-move-dialog-position-input")})}],onActionChange:e=>{x(e.target.value),g(!1)}},selectedItem:{value:c},onSubmit:k,returnFocusRef:r})};try{ei.displayName||(ei.displayName="DragAndDropMoveDialog")}catch{}var es=r(46720),eo=r(29255);let ed="KeyboardSpecificInstructionsDialog-module__instruction--Bn8V2",ec="hideKeyboardSpecificInstructions",eu=({onClose:e})=>{let[t,r]=(0,m.M)(ec,!1);return(0,a.jsxs)("div",{className:(0,g.$)("KeyboardSpecificInstructionsDialog-module__footerContainer--dKeqT"),children:[(0,a.jsx)("div",{className:(0,g.$)("KeyboardSpecificInstructionsDialog-module__footerForm--eqNzz"),children:(0,a.jsxs)(O.A,{children:[(0,a.jsx)(es.A,{checked:t,onChange:()=>r(!t)}),(0,a.jsx)(O.A.Label,{children:"Don't show this again"})]})}),(0,a.jsx)("div",{className:(0,g.$)("KeyboardSpecificInstructionsDialog-module__footerButton--KEhPP"),children:(0,a.jsx)(G.Q,{onClick:e,children:"Close"})})]})},em=({isOpen:e,onClose:t,direction:r,keyboardCodes:l=E})=>e?(0,a.jsx)("div",{onKeyDown:e=>{e.stopPropagation(),"Escape"===e.code&&t()},children:(0,a.jsx)(z.l,{title:"How to move objects via keyboard",subtitle:"This navigation is only available when move mode is activated.",onClose:t,renderFooter:()=>(0,a.jsx)(z.l.Footer,{className:"d-flex",children:(0,a.jsx)(eu,{onClose:t})}),children:(0,a.jsxs)("table",{className:(0,g.$)("KeyboardSpecificInstructionsDialog-module__instructionContainer--Heahc"),children:[(0,a.jsx)("thead",{className:"sr-only",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text=bold",children:"Action"}),(0,a.jsx)("th",{className:"text=bold",children:"Keyboard Shortcut"})]})}),(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{className:(0,g.$)(ed),children:[(0,a.jsx)("td",{children:"Cancel drag mode"}),(0,a.jsx)("td",{children:l.cancel.map((e,t)=>(0,a.jsxs)(v.Fragment,{children:[t>0&&(0,a.jsx)("span",{children:" / "}),(0,a.jsx)(eo.U,{keys:e})]},e))})]}),(0,a.jsxs)("tr",{className:(0,g.$)(ed),children:[(0,a.jsx)("td",{children:"Move item one position"}),(0,a.jsxs)("td",{children:[(0,a.jsx)(eo.U,{keys:"vertical"===r?"up":"left"}),(0,a.jsx)("span",{children:" / "}),(0,a.jsx)(eo.U,{keys:"vertical"===r?"down":"right"})]})]}),(0,a.jsxs)("tr",{className:(0,g.$)(ed,"border-bottom-0"),children:[(0,a.jsx)("td",{children:"Place item"}),(0,a.jsx)("td",{children:l.end.map((e,t)=>(0,a.jsxs)(v.Fragment,{children:[t>0&&(0,a.jsx)("span",{children:" / "}),(0,a.jsx)("kbd",{className:"bgColor-default box-shadow-none fgColor-muted",children:e.toLowerCase()})]},e))})]})]})]})})}):null;try{eu.displayName||(eu.displayName="KeyboardSpecificInstructionsFooter")}catch{}try{em.displayName||(em.displayName="KeyboardSpecificInstructionsDialog")}catch{}let eg=({onDrop:e,items:t,direction:r="vertical",children:b,as:S="ul",renderOverlay:M,keyboardCodes:C,enableTouch:I=!1,...A},$)=>{let[k,E]=(0,v.useState)(!1),[F,L]=(0,v.useState)(0),[K,R]=(0,v.useState)(!1),[B,G]=(0,v.useState)(0),[O,q]=(0,v.useState)(null),[H,z]=(0,v.useState)(!1),[U]=(0,m.M)(ec,!1),[V,Q]=(0,v.useState)(!1),[X,Y]=(0,v.useState)(null),J=t.map(e=>e.id),W=(0,v.useMemo)(()=>t.reduce((e,t)=>(e[t.id]=t.title,e),{}),[t]);f("is-dragging",k),f("DragAndDropContainer-module__isKeyboardDragging--sqA9I",V);let[Z,ee]=(0,v.useState)(null),et=(0,u.j)(),er=(0,v.useCallback)(()=>{z(!1)},[]),ea=(0,v.useCallback)(e=>{let t;if(!e.active)return;(0,s.i)((t=W[e.active.id]??e.active.id,`Moving ${t}.`),{assertive:!0});let r=e.active.data.current?.metadata;q(r?.id??null),G(e.active.data.current?.sortable.index??0),L(e.active.data.current?.sortable.index??0),E(!0)},[W]),el=(0,v.useCallback)(e=>{let t=e.over?.data.current?.metadata;q(t?.id??null),K||R(!0),e.over&&e.over.data.current&&L(e.over.data.current.sortable.index)},[K]);(0,v.useEffect)(()=>{if(k&&K)if(0===F)_("First item in list.");else if(F===J.length-1)_("Last item in list.");else{let e,t,r=F<=B,a=F===B,l=r?J[F-1]:J[F+1],n=a?J[F+1]:J[F];_((e=W[l],t=W[n],`Between ${e} and ${t}.`))}},[k,K,F,W,J,B]);let en=(0,v.useCallback)(e=>{(0,s.i)(`${W[e.active.id]??e.active.id} not moved.`,{assertive:!0}),E(!1),Q(!1),R(!1),setTimeout(()=>{document.activeElement?.scrollIntoView({behavior:et?"instant":"smooth",block:"nearest"})},1)},[W,et]),es=(0,v.useCallback)(r=>{if(E(!1),Q(!1),R(!1),!r.active||!r.over)return;let a=r.active.data.current?.metadata,l=r.over.data.current?.metadata;a?.id!==l?.id&&e({dragMetadata:a,dropMetadata:l,isBefore:F<B}),q(null),function({newIndex:e,currentIndex:t,items:r,title:a}){let l=r.map(e=>e.id);if(e===t)(0,s.i)(N(a),{assertive:!0});else if(0===e)(0,s.i)(y(a),{assertive:!0});else if(e===r.length-1)(0,s.i)(j(a),{assertive:!0});else{let n=e<=t?l[e-1]:l[e+1],i=l[e],o=r.find(e=>e.id===n)?.title??"",d=r.find(e=>e.id===i)?.title??"";(0,s.i)(D(a,o,d),{assertive:!0})}}({newIndex:F,currentIndex:B,items:t,title:W[r.active.id]})},[F,B,t,W,e]),eo=(0,v.useCallback)((t,r,a)=>{q(J[r]??null);let l=J[t],n=J[r];l&&n&&e({dragMetadata:{id:l},dropMetadata:{id:n},isBefore:a??r<t})},[J,e]),ed=(0,v.useContext)(x),eu=(0,v.useMemo)(()=>()=>{K||U||z(!0),Q(!0)},[U,K]),eg=(0,v.useCallback)((e,t,r)=>{Y({title:e,index:t,returnFocusRef:r})},[]),ev=(0,v.useCallback)(()=>{Y(null),ee(X?.returnFocusRef?.current??null)},[X]),eh=(0,l.MS)(l.IG),ep=(0,l.MS)(l.cA),ef=(0,l.MS)(CustomKeyboardSensor,{coordinateGetter:i.JR,keyboardCodes:C,onActivation:eu}),ex=(0,v.useMemo)(()=>I?[ep,eh,ef]:[ep,ef],[I,ep,eh,ef]),eb=(0,l.FR)(...ex);(0,v.useEffect)(()=>{Z?.focus(),ee(null)},[Z]);let ey=t[B],[ej]=(0,c.I)(()=>document.body,null,[o.XC?.body]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(em,{isOpen:H,onClose:er,direction:r,keyboardCodes:C}),(0,a.jsx)(l.Mp,{collisionDetection:(0,v.useMemo)(()=>"horizontal"===r?l.y$:T,[r]),modifiers:(0,v.useMemo)(()=>"horizontal"===r?[n.dU]:[n.FN],[r]),sensors:eb,onDragStart:ea,onDragOver:el,onDragEnd:es,onDragCancel:en,accessibility:(0,v.useMemo)(()=>({container:ed,announcements:w}),[ed]),children:(0,a.jsx)(i.gB,{items:J,strategy:(0,v.useMemo)(()=>"horizontal"===r?i.m$:i._G,[r]),children:(0,a.jsxs)(p.Provider,{value:(0,v.useMemo)(()=>({overId:O,dragIndex:B,moveToPosition:eo,items:t,direction:r,openMoveDialog:eg,moveDialogItem:X,isInDragMode:k&&!H}),[O,B,eo,t,r,eg,X,k,H]),children:[X&&(0,a.jsx)(ei,{closeDialog:ev}),(0,a.jsx)(S,{...A,ref:$,className:(0,g.$)(P,A.className),...(0,d.G)("sortable-list"),onKeyDown:e=>{k&&"Tab"===e.code&&e.preventDefault()},children:b}),ej?(0,h.createPortal)((0,a.jsx)(l.Hd,{dropAnimation:null,className:(0,g.$)(P),children:ey&&!H?M(ey,B):null}),ej):null]})})})]})},ev=(0,v.forwardRef)(eg);try{eg.displayName||(eg.displayName="DragAndDropContainer")}catch{}try{ev.displayName||(ev.displayName="DragAndDrop")}catch{}let eh=(0,v.createContext)({title:"",index:0,id:""});var ep=r(21513),ef=r(26108);let ex=()=>{let e=(0,v.useContext)(eh);if(!e)throw Error("useDragAndDropItem must be used within a DragAndDropItemContextProvider");return e},eb=(0,v.forwardRef)(function(e,t){let{title:r,id:l}=ex(),{setActivatorNodeRef:n,listeners:s,isDragging:o,items:c}=(0,i.gl)({id:l,data:{metadata:{id:l}}}),u=(0,v.useRef)(null);(0,ep.T)(t,u);let{onMouseDown:m,onClick:h,onKeyDown:p,onTouchStart:f}=s;return(0,a.jsxs)("div",{...(0,d.G)("sortable-trigger-container"),className:(0,g.$)("DragAndDropTrigger-module__trigger--vk0HP",1===c.length?"DragAndDropTrigger-module__hideDragHandler--TSI5X":"DragAndDropTrigger-module__touchEnabled--_fwSu"),children:[(0,a.jsx)("div",{onMouseDown:m,onTouchStart:f,className:(0,g.$)("DragAndDropTrigger-module__mouseTrigger--BI5oP"),...(0,d.G)("sortable-mouse-trigger")}),(0,a.jsx)(ef.K,{className:"DragAndDropTrigger-module__buttonTrigger--wP42o","aria-label":`Move ${r}`,ref:e=>{u.current=e,n(e)},onKeyDown:p,onClick:h,variant:"invisible",role:o?"application":"button",icon:R.GrabberIcon,size:"large",...e,...(0,d.G)("sortable-trigger")})]})});try{eb.displayName||(eb.displayName="DragAndDropTrigger")}catch{}let ey=({children:e,id:t,index:r,title:l,containerStyle:n,style:s,hideTrigger:o,isDragOverlay:c=!1,role:m,as:h="li",itemClassName:p,elementId:f,...x})=>{let b=(0,u.j)(),{setNodeRef:y,isDragging:j,transform:D,transition:N}=(0,i.gl)({id:t,data:{metadata:{id:t}}}),{direction:S,isInDragMode:M}=K(),C=(0,g.$)("position-relative",x.className,M&&{"DragAndDropItem-module__dragItem--rV0hu":j,"DragAndDropItem-module__horizontal--UHY1O":"horizontal"===S,"DragAndDropItem-module__vertical--jl9So":"vertical"===S}),I={transform:D?`
        translateX(${Math.round(D.x)}px)
        translateY(${Math.round(D.y)}px)
        scaleX(${D.scaleX})
        scaleY(${D.scaleY})
      `:"none",transition:b?"none":N};return(0,a.jsx)(eh.Provider,{value:(0,v.useMemo)(()=>({index:r,title:l,id:t}),[r,t,l]),children:(0,a.jsx)(c?"div":h,{...x,...(0,d.G)(c?"drag-overlay":"sortable-item"),className:C,style:{...c?{}:n,...I},ref:y,id:f,children:(0,a.jsxs)("div",{style:s,className:(0,g.$)("position-relative",p,M&&"DragAndDropItem-module__contents--zC2eY",c&&"DragAndDropItem-module__dragOverlay--EAT8P"),role:m,children:[!o&&(0,a.jsx)(eb,{}),e]})})})};try{ey.displayName||(ey.displayName="DragAndDropItem")}catch{}let ej=v.forwardRef(({Component:e,returnFocusRef:t,...r},l)=>{let{title:n,index:i}=ex(),{items:s,openMoveDialog:o}=K(),d=(0,v.useCallback)(()=>{o(n,i,t??l)},[o,n,i,t,l]);return 1===s.length?null:(0,a.jsx)(e,{...r,onClick:d,onSelect:d,ref:l})});ej.displayName="MoveDialogTrigger";let eD=Object.assign(ev,{Item:ey,DragTrigger:eb,MoveDialog:er,MoveDialogForm:Y,MoveDialogTrigger:ej,DragAndDropMoveDialog:ei});try{eD.displayName||(eD.displayName="DragAndDrop")}catch{}r(74979)}}]);
//# sourceMappingURL=87670-55b0acf5e32c.js.map