"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([[40149,76806],{13475:(e,t,a)=>{a.d(t,{T:()=>m});var s=a(79184),n=a(33592),r=a(72303),i=a(72206),u=a(17485),o=a(96540),l=a(7812),c=a(1747),D=a(23827),d=a(90918);function m(e,t){let a=(0,i.tD)(),m=(0,n.b)(),{reloadQuota:h}=(0,s.xR)(),{updateItem:p}=(0,c.xx)(),C=(0,D.H)(),g=(0,d.g)(),{activeCopilotSpaceId:_}=(0,u.C)();return(0,o.useCallback)(async(s,n,i=!1,u,o,c,D)=>{let d=a(),{currentReferences:f,context:E}=d;if(D||(D=(0,r.W)(d)),h("handle_message_submit"),""===s.trim())return;i&&m.clearAllReferences();let F=i?[]:f;for(let e of F){let a=(0,l.oR)({ref:e,messageIndex:t});null!=a&&p({...a,isUserEdited:!1})}let x={thread:D,content:s,references:[...F,...n||[]],topic:e.current,context:E,customInstructions:d.customInstructions,model:u||d.model,customCopilotId:o??_,skillOptions:d.skillOptions,mediaContent:c};if(C){let e=await m.continueSharedThread(g);if(e){let{thread:t,messages:a}=e,s=a.at(-1)?.id;await m.sendChatMessage({...x,thread:t,parentMessageId:s})}}else await m.sendChatMessage(x)},[a,h,_,C,m,g,t,p,e])}},20255:(e,t,a)=>{a.d(t,{I:()=>i});var s=a(96540),n=a(35180),r=a(90147);function i(){r.r.current||(0,n.U)();let[e]=(0,s.useState)(r.O.current);return e}},23827:(e,t,a)=>{a.d(t,{H:()=>r});var s=a(21728),n=a(61526);function r(){let e,t=(0,s.c)(2),a=(0,n.zy)().pathname;return t[0]!==a?(e=a.includes("/share/"),t[0]=a,t[1]=e):e=t[1],e}},25942:(e,t,a)=>{a.d(t,{C:()=>g});var s=/(?:^\s+|\s+$)/g,n=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2642\u2640]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDD27\uDCBC\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCC\uDFCB]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function r(e){var t=e.nodeType,a="";if(1===t||9===t||11===t)if("string"==typeof e.textContent)return e.textContent;else for(e=e.firstChild;e;e=e.nextSibling)a+=r(e);else if(3===t||4===t)return e.nodeValue;return a}function i(e,t,a,r,i){if(e+="",a&&(e=e.trim?e.trim():e.replace(s,"")),t&&""!==t)return e.replace(/>/g,"&gt;").replace(/</g,"&lt;").split(t);for(var u,o,l=[],c=e.length,D=0;D<c;D++)((o=e.charAt(D)).charCodeAt(0)>=55296&&56319>=o.charCodeAt(0)||e.charCodeAt(D+1)>=65024&&65039>=e.charCodeAt(D+1))&&(u=((e.substr(D,12).split(n)||[])[1]||"").length||2,o=e.substr(D,u),l.emoji=1,D+=u-1),l.push(i?o:">"===o?"&gt;":"<"===o?"&lt;":r&&" "===o&&(" "===e.charAt(D-1)||" "===e.charAt(D+1))?"&nbsp;":o);return l}var u,o,l=function(){function e(e){this.chars=i(e),this.sets=[],this.length=50;for(var t=0;t<20;t++)this.sets[t]=d(80,this.chars)}return e.prototype.grow=function(e){for(var t=0;t<20;t++)this.sets[t]+=d(e-this.length,this.chars);this.length=e},e}(),c=function(){return u||"undefined"!=typeof window&&(u=window.gsap)&&u.registerPlugin&&u},D=/\s+/g,d=function(e,t){for(var a=t.length,s="";--e>-1;)s+=t[~~(Math.random()*a)];return s},m="ABCDEFGHIJKLMNOPQRSTUVWXYZ",h=m.toLowerCase(),p={upperCase:new l(m),lowerCase:new l(h),upperAndLowerCase:new l(m+h)},C=function(){o=u=c()},g={version:"3.13.0",name:"scrambleText",register:function(e,t,a){u=e,C()},init:function(e,t,a,s,n){if(o||C(),this.prop="innerHTML"in e?"innerHTML":"textContent"in e?"textContent":0,this.prop){this.target=e,"object"!=typeof t&&(t={text:t});var u,c,d,m,h=t.text||t.value||"",g=!1!==t.trim;return this.delimiter=u=t.delimiter||"",this.original=i(r(e).replace(D," ").split("&nbsp;").join(""),u,g),("{original}"===h||!0===h||null==h)&&(h=this.original.join(u)),this.text=i((h||"").replace(D," "),u,g),this.hasClass=!!(t.newClass||t.oldClass),this.newClass=t.newClass,this.oldClass=t.oldClass,m=""===u,this.textHasEmoji=m&&!!this.text.emoji,this.charsHaveEmoji=!!t.chars&&!!i(t.chars).emoji,this.length=m?this.original.length:this.original.join(u).length,this.lengthDif=(m?this.text.length:this.text.join(u).length)-this.length,this.fillChar=t.fillChar||t.chars&&~t.chars.indexOf(" ")?"&nbsp;":"",this.charSet=d=p[t.chars||"upperCase"]||new l(t.chars),this.speed=.05/(t.speed||1),this.prevScrambleTime=0,this.setIndex=20*Math.random()|0,(c=this.length+Math.max(this.lengthDif,0))>d.length&&d.grow(c),this.chars=d.sets[this.setIndex],this.revealDelay=t.revealDelay||0,this.tweenLength=!1!==t.tweenLength,this.tween=a,this.rightToLeft=!!t.rightToLeft,this._props.push("scrambleText","text"),1}},render:function(e,t){var a,s,n,r,u,o,l,c,D,d,m,h=t.target,p=t.prop,C=t.text,g=t.delimiter,_=t.tween,f=t.prevScrambleTime,E=t.revealDelay,F=t.setIndex,x=t.chars,v=t.charSet,y=t.length,b=t.textHasEmoji,j=t.charsHaveEmoji,N=t.lengthDif,S=t.tweenLength,I=t.oldClass,A=t.newClass,B=t.rightToLeft,R=t.fillChar,T=t.speed,w=t.original,k=t.hasClass,M=C.length,P=_._time,L=P-f;E&&(_._from&&(P=_._dur-P),e=0===P?0:P<E?1e-6:P===_._dur?1:_._ease((P-E)/(_._dur-E))),e<0?e=0:e>1&&(e=1),B&&(e=1-e),a=~~(e*M+.5),e?((L>T||L<-T)&&(t.setIndex=F=(F+(19*Math.random()|0))%20,t.chars=v.sets[F],t.prevScrambleTime+=L),r=x):r=w.join(g),m=_._from?e:1-e,d=y+(S?_._from?m*m*m:1-m*m*m:1)*N,B?1===e&&(_._from||"isFromStart"===_.data)?(n="",r=w.join(g)):(l=C.slice(a).join(g),n=j?i(r).slice(0,d-(b?i(l):l).length+.5|0).join(""):r.substr(0,d-(b?i(l):l).length+.5|0),r=l):(n=C.slice(0,a).join(g),s=(b?i(n):n).length,r=j?i(r).slice(s,d+.5|0).join(""):r.substr(s,d-s+.5|0)),k?(c=B?I:A,D=B?A:I,l=((u=c&&0!==a)?"<span class='"+c+"'>":"")+n+(u?"</span>":"")+((o=D&&a!==M)?"<span class='"+D+"'>":"")+g+r+(o?"</span>":"")):l=n+g+r,h[p]="&nbsp;"===R&&~l.indexOf("  ")?l.split("  ").join("&nbsp;&nbsp;"):l}};g.emojiSafeSplit=i,g.getText=r,c()&&u.registerPlugin(g)},28259:(e,t,a)=>{a.d(t,{J:()=>d});var s=a(74848),n=a(21728),r=a(86877),i=a(84268),u=a(99511),o=a(56149),l=a(15220),c=a(96540),D=a(44902);let d=e=>{let t,a,d,h,p,C,g,_,f,E,F,x,v,y,b,j=(0,n.c)(34),{onDismiss:N,experimentsDialogRef:S}=e,[I,A]=(0,c.useState)(m),[B,R]=(0,c.useState)(void 0),T=(0,c.useRef)("\u200B");j[0]!==I||j[1]!==N?(t=()=>{let e=[];for(let t of I.split(","))if(""!==t.trim()){if(2!==t.split("=").length){R(`Invalid experiment key=value pair${T.current}`),T.current=T.current+"\u200B";return}R(""),e.push(t)}(0,D.R)(e),N()},j[0]=I,j[1]=N,j[2]=t):t=j[2];let w=t;j[3]!==N?(a=()=>{A(""),(0,D.R)([]),R(""),N()},j[3]=N,j[4]=a):a=j[4];let k=a;return j[5]===Symbol.for("react.memo_cache_sentinel")?(d=(0,s.jsx)(r.A.Label,{children:"Experiments"}),j[5]=d):d=j[5],j[6]===Symbol.for("react.memo_cache_sentinel")?(h=(0,s.jsx)("code",{children:"key=value"}),j[6]=h):h=j[6],j[7]===Symbol.for("react.memo_cache_sentinel")?(p=(0,s.jsx)(r.A.Caption,{children:(0,s.jsxs)("span",{children:["List experiments as comma separated ",h," pairs. To see available experiments,"," ",(0,s.jsx)(i.A,{inline:!0,target:"_blank",href:`/search?q=${encodeURIComponent("repo:github/copilot-api path:experiments.go")}`,children:"read this code"}),"."]})}),j[7]=p):p=j[7],j[8]===Symbol.for("react.memo_cache_sentinel")?(C=e=>A(e.target.value),j[8]=C):C=j[8],j[9]!==w?(g=e=>{"Enter"===e.key&&w()},j[9]=w,j[10]=g):g=j[10],j[11]!==I||j[12]!==g?(_=(0,s.jsx)(u.A,{"aria-label":"Experiments",name:"experiments",value:I,onChange:C,onKeyDown:g,className:"ExperimentsDialog-module__experimentsInput--Uko5H"}),j[11]=I,j[12]=g,j[13]=_):_=j[13],j[14]!==B?(f=B&&(0,s.jsx)(r.A.Validation,{variant:"error",children:B}),j[14]=B,j[15]=f):f=j[15],j[16]!==_||j[17]!==f?(E=(0,s.jsx)(l.l.Body,{children:(0,s.jsx)("div",{className:"ExperimentsDialog-module__dialogContentContainer--mWDus",children:(0,s.jsxs)(r.A,{children:[d,p,_,f]})})}),j[16]=_,j[17]=f,j[18]=E):E=j[18],j[19]!==k?(F={type:"button",onClick:k,content:"Clear all",buttonType:"danger"},j[19]=k,j[20]=F):F=j[20],j[21]!==N?(x={type:"button",onClick:N,content:"Cancel"},j[21]=N,j[22]=x):x=j[22],j[23]!==w?(v={type:"button",onClick:w,content:"Save",buttonType:"primary"},j[23]=w,j[24]=v):v=j[24],j[25]!==F||j[26]!==x||j[27]!==v?(y=(0,s.jsx)(l.l.Footer,{children:(0,s.jsx)(l.l.Buttons,{buttons:[F,x,v]})}),j[25]=F,j[26]=x,j[27]=v,j[28]=y):y=j[28],j[29]!==S||j[30]!==N||j[31]!==E||j[32]!==y?(b=(0,s.jsx)(o.ZL,{children:(0,s.jsxs)(l.l,{ref:S,onClose:N,title:"Experiments",width:"xlarge",children:[E,y]})}),j[29]=S,j[30]=N,j[31]=E,j[32]=y,j[33]=b):b=j[33],b};try{d.displayName||(d.displayName="ExperimentsDialog")}catch{}function m(){return(0,D.f)().join(",")}},35952:(e,t,a)=>{a.d(t,{I:()=>C,j:()=>h});var s=a(74848),n=a(21728),r=a(79184),i=a(25641),u=a(51213),o=a(35247),l=a(79064),c=a(53419),D=a(73077),d=a(84078),m=a(96540);function h(){let e,t,a,s,i=(0,n.c)(12),{isLicensedLimited:u,chatQuotaRemaining:c,premiumChatQuotaRemaining:D,premiumInteractionsQuotaExceeded:d,overagesEnabled:h}=(0,r.xR)(),[C,g]=(0,m.useState)(p);i[0]!==c||i[1]!==h||i[2]!==d?(e=()=>{if(o.W.premiumRequestQuotasEnabled&&void 0!==c){let e=l.Jt.getQuotaExceededBannerFlag();o.W.premiumRequestQuotasEnabled&&!h&&d?null===e?(l.Jt.setQuotaExceededBannerFlag(!0),g(!0)):g(e):(l.Jt.removeQuotaExceededBannerFlag(),g(!1))}},i[0]=c,i[1]=h,i[2]=d,i[3]=e):e=i[3],i[4]!==c||i[5]!==h||i[6]!==D||i[7]!==d?(t=[c,D,h,d],i[4]=c,i[5]=h,i[6]=D,i[7]=d,i[8]=t):t=i[8],(0,m.useEffect)(e,t),i[9]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{l.Jt.setQuotaExceededBannerFlag(!1),g(!1)},i[9]=a):a=i[9];let _=a,f=C&&!u&&void 0!==c&&o.W.premiumRequestQuotasEnabled;return i[10]!==f?(s={visible:f,onDismiss:_},i[10]=f,i[11]=s):s=i[11],s}function p(){return l.Jt.getQuotaExceededBannerFlag()??!1}function C(e){let t,a,o=(0,n.c)(9),{onDismiss:l}=e,{plan:m,canUpgradePlan:h,resetDate:p}=(0,r.xR)(),C=null,E=null;if(m===u.UH.IndividualFree){let e;C=`You have used all requests available this month. Upgrade your plan to increase your limit. Limit resets on ${p}.`,o[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(D.z,{as:"a",href:i.Zs,onClick:f,children:"Upgrade"}),o[0]=e):e=o[0],E=e}else if(m===u.UH.IndividualPro||m===u.UH.IndividualProPlus)if(h){let e;C=`You have used all premium requests available this month. Upgrade your plan to increase your limit. Limit resets on ${p}.`,o[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(D.z,{as:"a",href:i.Zs,onClick:_,children:"Upgrade"}),o[1]=e):e=o[1],E=e}else{let e;C=`You have used all premium requests available this month. Enable additional requests to get more. Limit resets on ${p}.`,o[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(D.z,{as:"a",href:i.pF,onClick:g,children:"Enable additional requests"}),o[2]=e):e=o[2],E=e}else(m===u.UH.Business||m===u.UH.Enterprise)&&(C=`You have reached your monthly limit for premium requests. Ask your admin to increase your limit. Limit resets on ${p}.`);return o[3]!==l?(t=()=>{l(),(0,c.BI)("dotcom_chat.activate",{target:"QUOTA_EXCEEDED_BANNER_DISMISS",mode:"immersive"})},o[3]=l,o[4]=t):t=o[4],o[5]!==C||o[6]!==E||o[7]!==t?(a=(0,s.jsx)("div",{className:"QuotaExceededBanner-module__container--ETlPC",children:(0,s.jsx)(d.l,{variant:"upsell",title:"Limit reached",description:C,hideTitle:!0,primaryAction:E,onDismiss:t})}),o[5]=C,o[6]=E,o[7]=t,o[8]=a):a=o[8],a}function g(){(0,c.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_OVERAGES",mode:"immersive"})}function _(){(0,c.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"immersive"})}function f(){(0,c.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"immersive"})}try{C.displayName||(C.displayName="QuotaExceededBanner")}catch{}},37204:(e,t,a)=>{a.d(t,{X:()=>_});var s=a(74848),n=a(21728),r=a(38621),i=a(86877),u=a(4175),o=a(99511),l=a(46251),c=a(64138),D=a(26108),d=a(21373),m=a(56149),h=a(15220),p=a(96540),C=a(79064),g=a(33592);let _=e=>{let t,a,_,E,F,x,v,y,b,j,N,S,I,A,B,R,T,w,k,M,P,L,O,U=(0,n.c)(53),{onDismiss:z,promptDialogRef:H}=e,G=(0,g.b)(),$=C.Jt.settings,[q,Q]=(0,p.useState)($?.instructionPrompt||void 0);U[0]===Symbol.for("react.memo_cache_sentinel")?(t=$?.skillOverrides??[],U[0]=t):t=U[0];let[W,V]=(0,p.useState)(t),[K,Y]=(0,p.useState)($?.temperature||.7),J=(0,p.useRef)(void 0);U[1]!==G||U[2]!==z||U[3]!==q||U[4]!==K||U[5]!==W?(a=()=>{let e=W.filter(f);G.setCopilotSettings({instructionPrompt:q||"",skillOverrides:e,temperature:K}),z()},U[1]=G,U[2]=z,U[3]=q,U[4]=K,U[5]=W,U[6]=a):a=U[6];let X=a;U[7]!==G?(_=async()=>{if(J.current)return void Q(J.current);let e=await G.getSystemPrompt();J.current=e,Q(e)},U[7]=G,U[8]=_):_=U[8];let Z=_;U[9]!==Z||U[10]!==q?(E=()=>{(async()=>{void 0===q&&await Z()})()},U[9]=Z,U[10]=q,U[11]=E):E=U[11],U[12]!==Z||U[13]!==G||U[14]!==q?(F=[Z,G,q],U[12]=Z,U[13]=G,U[14]=q,U[15]=F):F=U[15],(0,p.useEffect)(E,F),U[16]!==Z?(x=()=>{Z(),V([]),Y(.7)},U[16]=Z,U[17]=x):x=U[17];let ee=x;return U[18]===Symbol.for("react.memo_cache_sentinel")?(v=(0,s.jsx)(i.A.Label,{children:"System Instructions"}),U[18]=v):v=U[18],U[19]===Symbol.for("react.memo_cache_sentinel")?(y=(0,s.jsx)(i.A.Caption,{children:(0,s.jsx)("span",{children:"Make adjustments to the system instructions or add new instructions."})}),U[19]=y):y=U[19],U[20]===Symbol.for("react.memo_cache_sentinel")?(b=e=>Q(e.target.value),U[20]=b):b=U[20],U[21]!==q?(j=(0,s.jsxs)(i.A,{children:[v,y,(0,s.jsx)(u.Ay,{block:!0,"aria-label":"Prompt",name:"Prompt",value:q,onChange:b,className:"PromptDialog-module__systemInstructionsTextarea--JIAZO"})]}),U[21]=q,U[22]=j):j=U[22],U[23]===Symbol.for("react.memo_cache_sentinel")?(N=(0,s.jsx)(i.A.Label,{children:"Temperature"}),S=(0,s.jsx)(i.A.Caption,{children:"Controls the randomness of the model's responses. Lower temperatures are more deterministic, while higher temperatures are more random."}),U[23]=N,U[24]=S):(N=U[23],S=U[24]),U[25]===Symbol.for("react.memo_cache_sentinel")?(I=e=>Y(Number(e.target.value)),U[25]=I):I=U[25],U[26]!==K?(A=(0,s.jsxs)(i.A,{className:"PromptDialog-module__temperatureFormControl--oJoQJ",children:[N,S,(0,s.jsx)(o.A,{type:"number",min:"0",max:"1",step:"0.01",block:!0,value:K,onChange:I})]}),U[26]=K,U[27]=A):A=U[27],U[28]===Symbol.for("react.memo_cache_sentinel")?(B=(0,s.jsx)("div",{className:"PromptDialog-module__toolsSectionHeader--jFBxE",children:"Tools"}),U[28]=B):B=U[28],U[29]!==W?(R=W.map((e,t)=>(0,s.jsxs)(p.Fragment,{children:[(0,s.jsxs)(l.B,{direction:"horizontal",className:"py-2",children:[(0,s.jsxs)(i.A,{children:[(0,s.jsx)(i.A.Label,{children:"Name"}),(0,s.jsx)(i.A.Caption,{children:(0,s.jsx)("span",{children:"Slug of tool you want to adjust"})}),(0,s.jsx)(o.A,{defaultValue:e.slug,onChange:e=>{W.map((a,s)=>{s===t&&(a.slug=e.target.value)})}})]}),(0,s.jsxs)(i.A,{children:[(0,s.jsx)(i.A.Label,{children:"Description"}),(0,s.jsx)(i.A.Caption,{children:(0,s.jsx)("span",{children:"Make changes to the tool description"})}),(0,s.jsx)(o.A,{defaultValue:e.description,onChange:a=>{W.map((s,n)=>{n===t&&(e.description=a.target.value)})}})]}),(0,s.jsxs)(i.A,{children:[(0,s.jsx)(i.A.Label,{id:"toggle",children:"Enabled?"}),(0,s.jsx)(c.A,{size:"small","aria-labelledby":"toggle",defaultChecked:e.enabled,onChange:e=>{W.map((a,s)=>{s===t&&(a.enabled=e)})}})]}),(0,s.jsx)(D.K,{icon:r.TrashIcon,"aria-label":"Delete tool",variant:"invisible",onClick:()=>{let e=[...W];1===W.length?V([]):(e.splice(t,1),V(e))},className:"PromptDialog-module__deleteToolButton--PRDPZ"})]}),t===W.length-1&&(0,s.jsx)(d.Q,{leadingVisual:(0,s.jsx)(r.PlusIcon,{}),onClick:()=>V([...W,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add another tool"})]},`tool-${e.slug}-${Math.random()}`)),U[29]=W,U[30]=R):R=U[30],U[31]!==W?(T=0===W.length&&(0,s.jsx)(d.Q,{leadingVisual:(0,s.jsx)(r.PlusIcon,{}),onClick:()=>V([...W,{slug:"",description:"",enabled:!0}]),variant:"invisible",size:"small",children:"Add a tool"}),U[31]=W,U[32]=T):T=U[32],U[33]!==j||U[34]!==A||U[35]!==R||U[36]!==T?(w=(0,s.jsxs)(h.l.Body,{children:[j,A,B,R,T]}),U[33]=j,U[34]=A,U[35]=R,U[36]=T,U[37]=w):w=U[37],U[38]!==z?(k={type:"button",onClick:z,content:"Cancel"},U[38]=z,U[39]=k):k=U[39],U[40]!==ee?(M={type:"button",onClick:ee,content:"Reset"},U[40]=ee,U[41]=M):M=U[41],U[42]!==X?(P={type:"button",onClick:X,content:"Save",buttonType:"primary"},U[42]=X,U[43]=P):P=U[43],U[44]!==k||U[45]!==M||U[46]!==P?(L=(0,s.jsx)(h.l.Footer,{children:(0,s.jsx)(h.l.Buttons,{buttons:[k,M,P]})}),U[44]=k,U[45]=M,U[46]=P,U[47]=L):L=U[47],U[48]!==z||U[49]!==H||U[50]!==w||U[51]!==L?(O=(0,s.jsx)(m.ZL,{children:(0,s.jsxs)(h.l,{ref:H,onClose:z,title:"Prompt Settings",width:"xlarge",className:"PromptDialog-module__Dialog--gvqi7",children:[w,L]})}),U[48]=z,U[49]=H,U[50]=w,U[51]=L,U[52]=O):O=U[52],O};try{_.displayName||(_.displayName="PromptDialog")}catch{}function f(e){return e.slug&&e.description}},45008:(e,t,a)=>{a.d(t,{L:()=>tR});var s,n=a(74848),r=a(21728),i=a(79184),u=a(8939),o=a(37294),l=a(33592),c=a(14521),D=a(35247),d=a(79064),m=a(2635),h=a(68637),p=a(84646),C=a(17485),g=a(69599),_=a(75202),f=a(96540),E=a(13475),F=a(23827),x=a(36038),v=a(62421);function y(){let e=(0,m.A3)("messagesLoading")?.missingOrgIds,t=(0,m.A3)("ssoOrganizations"),a=e?.map(e=>{let a=t?.find(t=>t.id===String(e));return a?.login})?.filter(e=>!!e);return{needsSsoAuthentication:!!(e&&e.length>0),ssoOrgNames:a||[]}}var b=a(38621),j=a(79634),N=a(62828),S=a(7812),I=a(1747),A=a(97315),B=a(53419),R=a(73077),T=a(84078);function w(){let e,t,a=(0,r.c)(3),{resetDate:s}=(0,i.xR)(),u=`You have reached your free plan limit. Limit resets on ${s}.`;a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(R.z,{as:"a",href:"https://github.com/features/copilot#pricing",onClick:k,children:"Upgrade"}),a[0]=e):e=a[0];let o=e;return a[1]!==u?(t=(0,n.jsx)("div",{className:"FreeChatExceededBanner-module__container--iiSMU",children:(0,n.jsx)(T.l,{variant:"upsell",title:"Limit reached",description:u,hideTitle:!0,primaryAction:o})}),a[1]=u,a[2]=t):t=a[2],t}function k(){(0,B.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"immersive"})}try{w.displayName||(w.displayName="FreeChatExceededBanner")}catch{}var M=a(35952),P=a(25641),L=a(84268);let O=D.W.premiumRequestQuotasEnabled?P.mF:10;function U(){return d.Jt.getMeterBannerFlag()??!1}function z(e){let t,a,s,u,o,l=(0,r.c)(18),{onDismiss:c,className:D}=e,{isLicensedLimited:d,canUpgradePlan:m,canPurchaseAdditionalQuota:h,premiumInteractionsQuotaExceeded:p,resetDate:C}=(0,i.xR)(),g=d?`You have used ${100-O}% of your free requests this month.`:p?`You have used all premium requests available this month. You will be charged per additional premium request until the limit resets on ${C}.`:`You have used ${100-O}% of your premium responses this month. ${m?"Upgrade to increase your limit.":"Enable additional requests to get more usage after the limit is reached."}`;l[0]!==h||l[1]!==m||l[2]!==p?(t=m&&!p?(0,n.jsx)(R.z,{as:"a",href:P.Zs,onClick:q,children:"Upgrade"}):h&&!p?(0,n.jsx)(R.z,{as:"a",href:P.pF,onClick:$,children:"Enable additional requests"}):h&&(0,n.jsx)(R.z,{as:"a",href:P.MB,onClick:G,children:"Manage billing"}),l[0]=h,l[1]=m,l[2]=p,l[3]=t):t=l[3];let _=t;l[4]!==h||l[5]!==m||l[6]!==p?(a=m&&h&&!p?(0,n.jsx)(L.A,{as:"a",href:P.Zs,onClick:H,children:"Enable additional requests"}):null,l[4]=h,l[5]=m,l[6]=p,l[7]=a):a=l[7];let f=a;return l[8]!==c?(s=()=>{c(),(0,B.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_DISMISS",mode:"immersive"})},l[8]=c,l[9]=s):s=l[9],l[10]!==g||l[11]!==_||l[12]!==f||l[13]!==s?(u=(0,n.jsx)(T.l,{variant:"info",title:"Limit reached soon",description:g,hideTitle:!0,primaryAction:_,secondaryAction:f,onDismiss:s}),l[10]=g,l[11]=_,l[12]=f,l[13]=s,l[14]=u):u=l[14],l[15]!==D||l[16]!==u?(o=(0,n.jsx)("div",{className:D,children:u}),l[15]=D,l[16]=u,l[17]=o):o=l[17],o}function H(){(0,B.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"immersive"})}function G(){(0,B.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_MANAGE_BILLING",mode:"immersive"})}function $(){(0,B.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_OVERAGES",mode:"immersive"})}function q(){(0,B.BI)("dotcom_chat.activate",{target:"QUOTA_METER_BANNER_LINK_UPGRADE",mode:"immersive"})}try{z.displayName||(z.displayName="QuotaMeterBanner")}catch{}var Q=a(58855),W=a(23657);let V="spaceHomepage",K="customCopilotDisabled",Y="customCopilotSizeExceeded";function J(e,t){let a,s,n=(0,r.c)(9),{isPending:i,data:u,error:o}=(0,p.Ao)(e),l=o instanceof p.i9,c=o instanceof p.OW;if(o&&!l&&!c)throw o;let D=i||l||c||!u?void 0:u;n[0]!==D||n[1]!==e||n[2]!==i||n[3]!==t?(a=function(e,t,a,s){if(e&&!s)return V;if(a)return null;let n=!!t;return e&&!n?K:(0,W.Hh)(t)?Y:null}(e,D,i,t),n[0]=D,n[1]=e,n[2]=i,n[3]=t,n[4]=a):a=n[4];let d=a;return n[5]!==D||n[6]!==i||n[7]!==d?(s={variant:d,customCopilot:D,isLoading:i},n[5]=D,n[6]=i,n[7]=d,n[8]=s):s=n[8],s}try{(s=function(e){let t=(0,r.c)(4),{variant:a,customCopilot:s}=e;switch(a){case K:{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(Q.U7,{}),t[0]=e):e=t[0],e}case Y:{let e;return t[1]!==s?(e=(0,n.jsx)(Q.$s,{customCopilot:s}),t[1]=s,t[2]=e):e=t[2],e}case V:{let e;return t[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(n.Fragment,{}),t[3]=e):e=t[3],e}default:return null}}).displayName||(s.displayName="SpaceConversationBanner")}catch{}function X(){let e,t=(0,r.c)(13),{ambientError:a,selectedThreadID:s}=(0,m.Pk)(),u=(0,c.G)(),{chatQuotaExceeded:o,isLicensedLimited:l}=(0,i.xR)(),{variant:h,customCopilot:p}=J(u,s),C=!!p,g=(!h||C)&&!(l&&o),_=function(){let e,t,a,s,n=(0,r.c)(10),{isLicensedLimited:u,chatQuotaRemaining:o,premiumChatQuotaRemaining:l,premiumInteractionsQuotaExceeded:c,overagesEnabled:m}=(0,i.xR)(),[h,p]=(0,f.useState)(U);n[0]!==o||n[1]!==u||n[2]!==m||n[3]!==l||n[4]!==c?(e=()=>{if((u||D.W.premiumRequestQuotasEnabled)&&void 0!==o){let e=d.Jt.getMeterBannerFlag();o>0&&o<=O||!u&&l>0&&l<=O||!u&&c&&m?null===e?(d.Jt.setMeterBannerFlag(!0),p(!0)):p(e):(d.Jt.removeMeterBannerFlag(),p(!1))}},t=[u,o,l,m,c],n[0]=o,n[1]=u,n[2]=m,n[3]=l,n[4]=c,n[5]=e,n[6]=t):(e=n[5],t=n[6]),(0,f.useEffect)(e,t),n[7]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{d.Jt.setMeterBannerFlag(!1),p(!1)},n[7]=a):a=n[7];let C=a,g=h&&void 0!==o&&(u||D.W.premiumRequestQuotasEnabled);return n[8]!==g?(s={visible:g,onDismiss:C},n[8]=g,n[9]=s):s=n[9],s}(),E=(0,M.j)(),F=h===K,x=h===Y,v=g&&a,y=g&&E.visible,b=g&&_.visible,j=!g,N=F||x,S=F||x||v||y||b||j;return t[0]!==a||t[1]!==p||t[2]!==E||t[3]!==_||t[4]!==v||t[5]!==j||t[6]!==y||t[7]!==b||t[8]!==S||t[9]!==F||t[10]!==N||t[11]!==x?(e=S&&(0,n.jsxs)("section",{"aria-label":"Notifications",className:"NotificationsSection-module__notificationsSection--K0_2c",children:[N&&(0,n.jsxs)("div",{className:"NotificationsSection-module__spaceBannerContainer--G0_MH",children:[F&&(0,n.jsx)(Q.U7,{}),x&&(0,n.jsx)(Q.$s,{customCopilot:p})]}),v&&(0,n.jsx)(A.P,{ambientError:a,useLargerBorderRadius:!0}),!N&&(0,n.jsxs)(n.Fragment,{children:[y&&(0,n.jsx)(M.I,{onDismiss:E.onDismiss}),b&&(0,n.jsx)(z,{className:"NotificationsSection-module__banner--a4C8F",onDismiss:_.onDismiss}),j&&(0,n.jsx)(w,{})]})]}),t[0]=a,t[1]=p,t[2]=E,t[3]=_,t[4]=v,t[5]=j,t[6]=y,t[7]=b,t[8]=S,t[9]=F,t[10]=N,t[11]=x,t[12]=e):e=t[12],e}try{X.displayName||(X.displayName="NotificationsSection")}catch{}function Z(e){let t,a,s,u,o,l=(0,r.c)(26),{textAreaRef:D,handleUserSubmit:d,nextMessageIndex:h,chatInputRef:p,isNewConversation:C,onChatCommandChange:g,containerRef:_,slashCommandsEnabled:f,showDisabledInputOnQuotaExceeded:E,attachmentMenuSide:F}=e,A=(0,m.Pk)(),{chatQuotaExceeded:B,isLicensedLimited:R}=(0,i.xR)(),{needsSsoAuthentication:T}=y(),w=(0,c.G)(),k=T&&w,M=(0,v.G)(),P=function(){let e,t=(0,r.c)(2),{figmaAuthUrl:a}=(0,j.X)();if(a){if(t[0]!==a){let s=new URL(a,location.origin);s.searchParams.set("return_url",location.pathname+location.search),e=s.toString(),t[0]=a,t[1]=e}else e=t[1];return e}}();l[0]!==h?(t={messageIndex:h},l[0]=h,l[1]=t):t=l[1];let L=(0,N.I)(t),{versionedItems:O,items:U}=(0,I.xx)();if(l[2]!==U){for(let[,e]of(a=new Set,U))"file"===e.type&&a.add(e.name);l[2]=U,l[3]=a}else a=l[3];let z=a,H=R&&B,G=!H&&!k||H&&void 0!==E&&E;return l[4]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)(X,{}),l[4]=s):s=l[4],l[5]!==F||l[6]!==p||l[7]!==_||l[8]!==z||l[9]!==P||l[10]!==d||l[11]!==C||l[12]!==M||l[13]!==h||l[14]!==g||l[15]!==L||l[16]!==H||l[17]!==w||l[18]!==G||l[19]!==f||l[20]!==A||l[21]!==D||l[22]!==O?(u=G&&(0,n.jsx)(x.V,{modes:[{name:"Chat",supportsMCP:!w,supportsAttachments:!0,supportsModelSwitching:!0,supportsSpaces:!0,supportsAutocompletion:!0,icon:(0,n.jsx)(b.CommentIcon,{}),placeholder:A.usePlanningIntent&&!A.selectedThreadID?"What would you like to create?":"Ask anything"}],onNewThreadSelected:M,textAreaRef:D,chatInputRef:p,containerRef:_,onSubmit:d,isStreaming:!!A.streamingMessage,size:"large",showPlanningToggle:!A.selectedThreadID,onSelectReference:L,getReferenceVersion:e=>(0,S.wt)(e,h,O),existingFileNames:z,figmaAuthUrl:P,isNewConversation:C,onChatCommandChange:g,disableSavedUserMessage:!0,slashCommandsEnabled:f,disabled:H,attachmentMenuSide:F}),l[5]=F,l[6]=p,l[7]=_,l[8]=z,l[9]=P,l[10]=d,l[11]=C,l[12]=M,l[13]=h,l[14]=g,l[15]=L,l[16]=H,l[17]=w,l[18]=G,l[19]=f,l[20]=A,l[21]=D,l[22]=O,l[23]=u):u=l[23],l[24]!==u?(o=(0,n.jsxs)("div",{className:"Layout-module__chatInputContainer--ty1RG",children:[s,u]}),l[24]=u,l[25]=o):o=l[25],o}try{Z.displayName||(Z.displayName="ChatInputContainer")}catch{}var ee=a(22116),et=a(63262),ea=a(7104),es=a(35673),en=a(87419),er=a(88392),ei=a(73952),eu=a(72303),eo=a(42312),el=a(88431),ec=a(6551),eD=a(26108),ed=a(34164),em=a(46665),eh=a(59524),ep=a(88752),eC=a(32744),eg=a(82178),e_=a(94517),ef=a(73010),eE=a(11633),eF=a(31958),ex=a(42983),ev=a(95896),ey=a(82151),eb=a(45244),ej=a(52940),eN=a(16946),eS=a(51213),eI=a(72206),eA=a(98755),eB=a(29731),eR=a(83494),eT=a(31223),ew=a(55009);let ek=e=>{let t,a,s,i,u=(0,r.c)(18),{messageId:o,src:l,alt:c,name:D,mode:d,squareView:m}=e,{openPreviewPane:h,openItem:p,updateItem:C}=(0,I.xx)(),g=`image:${l}`;u[0]!==g||u[1]!==p||u[2]!==h?(t=e=>{e.metaKey||e.ctrlKey||((0,B.BI)("dotcom_chat.activate",{target:"BROWSER_IMAGE_OPENED",mode:"immersive"}),p(g),h(),e.preventDefault())},u[0]=g,u[1]=p,u[2]=h,u[3]=t):t=u[3];let _=t;return u[4]!==c||u[5]!==g||u[6]!==o||u[7]!==D||u[8]!==l||u[9]!==C?(a=()=>{C({altText:c,id:g,messageId:o,name:D,type:"image",url:l})},s=[g,c,o,D,l,C],u[4]=c,u[5]=g,u[6]=o,u[7]=D,u[8]=l,u[9]=C,u[10]=a,u[11]=s):(a=u[10],s=u[11]),(0,f.useEffect)(a,s),u[12]!==c||u[13]!==d||u[14]!==_||u[15]!==m||u[16]!==l?(i=(0,n.jsx)("div",{className:"ChatImageAttachment-module__imageAttachment--Kt80m",children:(0,n.jsx)(ew.o,{src:l,alt:c,onClick:_,mode:d,useOverlay:!0,squareView:m})}),u[12]=c,u[13]=d,u[14]=_,u[15]=m,u[16]=l,u[17]=i):i=u[17],i},eM=(0,f.memo)(ek);try{ek.displayName||(ek.displayName="ChatImageAttachmentUnmemoized")}catch{}try{eM.displayName||(eM.displayName="ChatImageAttachment")}catch{}var eP=a(37673);let eL="ChatPagingComponent-module__disabledButton--qwjg3";function eO(e){let t,a,s,i,u,o,l=(0,r.c)(23),{currentPage:c,totalPages:D,onPrev:d,onNext:h,isUserMessage:p}=e,C=(0,m.A3)("isWaitingOnCopilot");if(c<1)throw Error("currentPage must be greater than or equal to 1");if(D<1)throw Error("totalPages must be greater than or equal to 1");if(c>D)throw Error("currentPage must be less than or equal to totalPages");let g=1===c||C,_=c===D||C,f=g?eL:"",E=_?eL:"";l[0]!==c||l[1]!==p||l[2]!==d||l[3]!==g?(t=()=>{if(g)return;let e=p?"USER_MESSAGE_ACTION_PREVIOUS_RESPONSE":"RESPONSE_ACTION_PREVIOUS_RESPONSE";(0,B.BI)("dotcom_chat.activate",{target:e,mode:"immersive"}),d(c-1)},l[0]=c,l[1]=p,l[2]=d,l[3]=g,l[4]=t):t=l[4];let F=t;l[5]!==c||l[6]!==p||l[7]!==_||l[8]!==h?(a=()=>{if(_)return;let e=p?"USER_MESSAGE_ACTION_NEXT_RESPONSE":"RESPONSE_ACTION_NEXT_RESPONSE";(0,B.BI)("dotcom_chat.activate",{target:e,mode:"immersive"}),h(c+1)},l[5]=c,l[6]=p,l[7]=_,l[8]=h,l[9]=a):a=l[9];let x=a;return l[10]!==F||l[11]!==f?(s=(0,n.jsx)(eD.K,{variant:"invisible","aria-label":"Previous response",onClick:F,icon:b.ChevronLeftIcon,className:f}),l[10]=F,l[11]=f,l[12]=s):s=l[12],l[13]!==c||l[14]!==D?(i=(0,n.jsxs)("span",{className:"ChatPagingComponent-module__pageIndicator--hEqlR",children:[c,"/",D]}),l[13]=c,l[14]=D,l[15]=i):i=l[15],l[16]!==x||l[17]!==E?(u=(0,n.jsx)(eD.K,{variant:"invisible","aria-label":"Next response",onClick:x,icon:b.ChevronRightIcon,className:E}),l[16]=x,l[17]=E,l[18]=u):u=l[18],l[19]!==s||l[20]!==i||l[21]!==u?(o=(0,n.jsxs)("div",{className:"ChatPagingComponent-module__container--HQpDa","data-testid":"chat-paging-component",children:[s,i,u]}),l[19]=s,l[20]=i,l[21]=u,l[22]=o):o=l[22],o}try{eO.displayName||(eO.displayName="ChatPagingComponent")}catch{}function eU(e){let t,a,s,i=(0,r.c)(5),{authorName:u,clientConfirmations:o}=e,l=o?.[0],c=l?.state;return u=l?.userLogin||u,i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,ed.$)("my-1","ClientConfirmations-module__container--rZT37"),i[0]=t):t=i[0],i[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)(b.CheckIcon,{}),i[1]=a):a=i[1],i[2]!==u||i[3]!==c?(s=(0,n.jsx)("div",{className:t,children:(0,n.jsxs)("span",{className:"ClientConfirmations-module__text--KBSlX",children:[a," ",u," ",c," the action"]})}),i[2]=u,i[3]=c,i[4]=s):s=i[4],s}try{eU.displayName||(eU.displayName="ClientConfirmations")}catch{}var ez=a(48881),eH=a(10221);function eG(e){var t;let a,s,i,u,o,l,c=(0,r.c)(16),{message:D,messageIndex:d,autoOpenPreviewPane:m}=e,h=D.content||"";c[0]===Symbol.for("react.memo_cache_sentinel")?(a={current:!1},c[0]=a):a=c[0],c[1]!==m||c[2]!==D.createdAt||c[3]!==D.id||c[4]!==d||c[5]!==h?(s={messageId:D.id,messageIndex:d,messageTimestamp:D.createdAt,autoOpenPreviewPane:m,markdown:h,hasAutoOpenedPreviewPaneRef:a,setHasAutoOpenedPreviewPane:eq},c[1]=m,c[2]=D.createdAt,c[3]=D.id,c[4]=d,c[5]=h,c[6]=s):s=c[6];let p=s;c[7]!==D.references?(i=D.references||[],c[7]=D.references,c[8]=i):i=c[8],c[9]!==i?(u=i.filter(e$),c[9]=i,c[10]=u):u=c[10];let C=u;return(t=D.content)&&/```yaml\s+type=["']?(draft-issue|draft-issue-tree|draft-update-issue)["']?/i.test(t)||0===C.length?null:(c[11]!==C?(o=(0,n.jsx)(eH.m,{references:C}),c[11]=C,c[12]=o):o=c[12],c[13]!==p||c[14]!==o?(l=(0,n.jsx)("div",{className:"mt-3",children:(0,n.jsx)(ez.A.Provider,{value:p,children:o},"draft-issue-tree")}),c[13]=p,c[14]=o,c[15]=l):l=c[15],l)}function e$(e){return"draft-issue"===e.type||"draft-update-issue"===e.type||"existing-issue"===e.type}function eq(){}try{eG.displayName||(eG.displayName="DraftIssueReferenceRenderer")}catch{}var eQ=a(37193),eW=a(38447);let eV=e=>{let t,a,s,i,u,o,l,c,D,d,h,p,C,g=(0,r.c)(25),{messageContent:_,onSubmit:E,onCancel:F}=e,x=(0,m.A3)("isWaitingOnCopilot"),[v,y]=(0,f.useState)(_),b=(0,f.useRef)(null),j=(0,f.useRef)(null);g[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{b.current&&(b.current.style.height="auto",b.current.style.height=`${b.current.scrollHeight}px`)},g[0]=t):t=g[0],g[1]!==v?(a=[v],g[1]=v,g[2]=a):a=g[2],(0,f.useEffect)(t,a),g[3]!==v||g[4]!==_||g[5]!==F||g[6]!==E?(i=()=>{document.activeElement===j.current?s():((0,B.BI)("dotcom_chat.activate",{target:"USER_MESSAGE_EDITING_SUBMIT",mode:"immersive"}),E(v))},s=()=>{F(),y(_),(0,B.BI)("dotcom_chat.activate",{target:"USER_MESSAGE_EDITING_CANCEL",mode:"immersive"})},g[3]=v,g[4]=_,g[5]=F,g[6]=E,g[7]=s,g[8]=i):(s=g[7],i=g[8]);let N=x?void 0:i;return g[9]!==s||g[10]!==N?(u={"copilot-chat:send-message":N,"github:cancel":s},g[9]=s,g[10]=N,g[11]=u):u=g[11],g[12]===Symbol.for("react.memo_cache_sentinel")?(o=(0,eB.G)("user-message-edit-box"),g[12]=o):o=g[12],g[13]===Symbol.for("react.memo_cache_sentinel")?(l=e=>y(e.target.value),g[13]=l):l=g[13],g[14]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{b.current&&(b.current.style.height="auto",b.current.style.height=`${b.current.scrollHeight}px`)},g[14]=c):c=g[14],g[15]!==v?(D=(0,n.jsx)("div",{className:"UserMessageEdit-module__inputContainer--iXdUm",children:(0,n.jsx)("textarea",{ref:b,autoComplete:"off",autoCorrect:"off",spellCheck:"false","aria-multiline":"true",rows:1,placeholder:"Ask Copilot",value:v,onChange:l,className:"UserMessageEdit-module__input--cgkv0",autoFocus:!0,onInput:c,onFocus:eK})}),g[15]=v,g[16]=D):D=g[16],g[17]===Symbol.for("react.memo_cache_sentinel")?(d=(0,n.jsx)(eR.cQ,{commandId:"github:cancel",ref:j,children:"Cancel"}),g[17]=d):d=g[17],g[18]===Symbol.for("react.memo_cache_sentinel")?(h=(0,eB.G)("user-message-edit-submit"),g[18]=h):h=g[18],g[19]!==x?(p=(0,n.jsxs)("div",{className:"UserMessageEdit-module__actions--GxMb3",children:[d,(0,n.jsx)(eR.cQ,{commandId:"copilot-chat:send-message",showKeybindingHint:!0,variant:"primary",...h,disabled:x,children:"Send"})]}),g[19]=x,g[20]=p):p=g[20],g[21]!==p||g[22]!==u||g[23]!==D?(C=(0,n.jsxs)(eR.tL,{commands:u,className:"UserMessageEdit-module__container--wVL0b",...o,children:[D,p]}),g[21]=p,g[22]=u,g[23]=D,g[24]=C):C=g[24],C};try{eV.displayName||(eV.displayName="UserMessageEdit")}catch{}function eK(e){return e.target.setSelectionRange(0,e.target.value.length)}let eY=({excludeFeedback:e,inputRef:t,isLatestMessage:a,isLatestUserMessage:s,isFirstReply:r,isStreaming:i,parentMessage:u,messageIndex:o,autoOpenPreviewPane:d,...h})=>{let{message:C}=(0,em.V)(),g=(0,f.useMemo)(()=>(0,P.H2)(C.references??[]),[C.references]),_=(0,l.b)(),E=(0,m.bP)("customCopilots","editingMessage","mode","wrapCodeLines"),x=(0,eI.tD)(),{items:y,versionedItems:j,openItem:A,removeItems:R,getOpenItems:T,openItemsBeforeSubthreadChange:w,setOpenItemsBeforeSubthreadChange:k,enableLoadingState:M,disableLoadingState:L}=(0,I.xx)(),O=(0,N.I)({messageIndex:o,messageId:C.id,messageTimestamp:C.createdAt}),U=(0,f.useCallback)(()=>{let e=x(),t=[],a=C;for(;null!=a;)t.push(a.id),a=void 0!==a.selectedChildIndex?e.messages[a.selectedChildIndex]:void 0;let s=new Map;for(let[e,t]of y){let a=s.get(t.messageId)||[];a.push(e),s.set(t.messageId,a)}let n=[];for(let e of t){let t=s.get(e);if(t)for(let e of t)n.push(e)}for(let[e,t]of y)t.messageId===eS.Wp&&n.push(e);let r=T();k([...r]),n.some(e=>r.includes(e))&&M(),R(n)},[y,M,x,C,T,R,k]),{author:z,handleConfirmationAction:H,handleRetryErrorMessage:G,handleRetryCopilotResponse:$,handleEditUserMessage:q,hasClientConfirmations:Q,hasDraftIssueReferences:W,isAgentError:V,isAI:K,isCopilot:X,isError:Z,isInterrupted:ee,isUser:et,myRef:ea,rendererConfig:es,renderFeedback:en,shouldShowMessageActions:er,skillExecutionToUseForRespondingText:ei,showRetryButton:eu}=(0,ej.p)({excludeFeedback:e,inputRef:t,isLatestMessage:a,isStreaming:i,removeOutdatedContentPreviewItems:U}),eo=(0,F.H)(),el=E.editingMessage===C.id,ec=i&&!Z&&!C.confirmations&&!er&&a&&(!e||K),ew=(u?.childMessageIndexes?.findIndex(e=>e===o)||0)+1||1,ek=u?.childMessageIndexes?.length||1,eL=ek>=eN.L9,ez=_.maxMessagesReached(),eH=ek>1,e$=(0,f.useMemo)(()=>C.mediaContent?.filter(e=>e.mediaType.startsWith("image/")),[C.mediaContent]),eq=(0,f.useMemo)(()=>!!e$?.length,[e$]),eW=er&&eo&&(X||eH),eK=(0,f.useRef)(null),eY=(0,eT.M)(e=>{let t=j.get((0,S.oy)(e))?.at(-1);t&&A(t,!1)});(0,f.useEffect)(()=>{if(C.error?.type!=="publicCode")return;let e=[];for(let[t,a]of y)(a.messageId===C.id||a.messageId===eK.current)&&e.push(t);e.length>0&&R(e)},[C.error?.type,C.id,y,R]),(0,f.useEffect)(()=>{if(eK.current!==C.id&&a&&w.length>0){let e=setTimeout(()=>{for(let e of w)eY.current(e);L(),k([])});return()=>clearTimeout(e)}eK.current=C.id},[L,C.id,w,a,k,eY]);let eX=(0,f.useCallback)(()=>{let{messages:e}=x(),t=ew-1;_.setSelectedMessage(e[u.childMessageIndexes[t-1]]),U()},[ew,_,u,U,x]),eZ=(0,f.useCallback)(()=>{let{messages:e}=x(),t=ew-1;_.setSelectedMessage(e[u.childMessageIndexes[t+1]]),U()},[ew,_,u,U,x]),e0=(0,v.G)(),{model:e1,availableModels:e2}=(0,m.bP)("model","availableModels"),e3=e1;C.model&&(e3=(e2??[e3]).find(e=>e.id===C.model)||e3);let e8=()=>_.startEditingMessage(C.id),e4=(0,c.G)(),{data:e6}=(0,p.Ao)(e4),{selectedThreadID:e7}=(0,m.bP)("selectedThreadID"),{variant:e5}=J(e4,e7),e9=eL||ez||!!e4&&!e6||e5===Y,te=X&&i&&a&&!C.content,tt=(0,f.useCallback)(e=>{_.setWrapCodeLines(e)},[_]),ta=i?eQ.G:eQ.o;return(0,n.jsxs)("div",{className:(0,ed.$)("message-container","ChatMessage-module__chatMessage--mrG0f",et&&"ChatMessage-module__user--D7H_T",K&&"ChatMessage-module__ai--l6YpD",el?"ChatMessage-module__editing--yOYer":"",a&&"ChatMessage-module__latest--AGxtS"),ref:ea,...(0,eB.G)(`message-${Z?"error":i?"streaming":C.id}`),children:[K?(0,n.jsx)(eg.W,{isLoading:i&&a,isLoadingSkills:(C.skillExecutions??[]).length>0&&i&&""===C.content&&a,isError:Z&&C.error?.type!=="agentUnauthorized",className:"ChatMessage-module__avatar--hKTWx",mode:E.mode,isFirstMessage:r,message:C.content||"",createdAt:C.createdAt}):null,et&&eq&&(0,n.jsx)("div",{className:e$?.length===4?"ChatMessage-module__imageGrid--yEdjI":"ChatMessage-module__imageRow--NNiyM",children:e$?.map(e=>(0,n.jsx)(eM,{name:e?.name||"Uploaded image",messageId:C.id,src:e?.url||"",alt:`Uploaded image${e?.name?`: ${e.name}`:""}`,mode:E.mode,squareView:e$?.length>=2},e?.url||""))}),et&&C.references&&C.references.length>0&&(0,n.jsx)(eP.K,{className:"ChatMessage-module__references--Pi5OH",messageId:C.id,messageTimestamp:C.createdAt,messageIndex:o,references:C.references,size:"medium"}),!el&&(0,n.jsx)("div",{className:"ChatMessage-module__content--sWQll",children:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:(0,ed.$)("js-snippet-clipboard-copy-unpositioned","ChatMessage-module__messageArea--gxJTG"),children:[Q?(0,n.jsx)(eU,{authorName:z.name,clientConfirmations:C.clientConfirmations??[]}):et?(0,n.jsx)(ey.R,{accessibleHeader:(0,P.hV)("You",C.content??""),className:"ChatMessage-module__userMessage--K0oH6"}):(0,n.jsxs)(n.Fragment,{children:[te&&(0,n.jsx)(eb.b,{className:(0,ed.$)("ChatMessage-module__skillExecutionText--Jbpi1","mb-2"),children:`${(0,eE.WA)(ei)}...`}),C.references&&C.references.length>0&&C.content&&(0,n.jsx)(ep.s,{className:"mb-2",references:C.references,isImmersive:!0,onClick:(e,t)=>{("draft-issue"===e.type||"draft-update-issue"===e.type)&&O(e,t)}}),"assistant"===C.role&&(g.length?(0,n.jsx)(eh.Q,{mcpToolResults:g}):null),!Q&&C.content&&(0,n.jsxs)(eJ,{children:[(0,n.jsx)(ta,{autoOpenPreviewPane:d,markdown:C.content,messageId:C.id,messageIndex:o,messageTimestamp:C.createdAt,accessibleHeader:(0,P.hV)("Copilot",C.content??""),copilotAnnotations:C.copilotAnnotations,wrapCodeLines:E.wrapCodeLines,onWrapCodeLinesChange:tt,...es}),D.W.draftIssueUseRefForDraftBlock&&W&&(0,n.jsx)(eG,{message:C,messageIndex:o,autoOpenPreviewPane:d})]}),Z?(0,n.jsx)(e_.K,{manager:_}):null,V&&C.agentErrors&&(0,n.jsx)(e_.h,{errors:C.agentErrors}),ee?(0,n.jsx)(eF.h,{messageHasContent:!!C.content||!!C.skillExecutions?.length}):null,K&&!te&&(0,P.Ye)(C.confirmations).map((e,t)=>"indexrepo"===e.confirmation.name?null:(0,n.jsx)(eC.m,{confirmation:e,handleConfirmation:H,isLatestMessage:a},t))]}),eH&&!a&&(0,n.jsxs)("div",{className:"ChatMessage-module__messageSubthreadIndicator--fjOXe","data-testid":"chat-paging-indicator",children:[ew,"/",ek]})]}),ec&&(0,n.jsx)("div",{className:"ChatMessage-module__actionsPlaceholder--gN7Zq"}),!er&&eu&&(0,n.jsx)(ex.$,{handleRetryMessage:G,disabled:e9}),er&&!eo&&(0,n.jsxs)(ev.M,{"aria-label":"Message tools",className:"ChatMessage-module__actions--CS2_w","data-testid":"nonshared-toolbar",children:[et&&(s?(0,n.jsx)(eR.N5,{commandId:"copilot-chat:edit-last-message",variant:"invisible","aria-label":"Edit message",onClick:e8,icon:b.PencilIcon,disabled:e9,...(0,eB.G)("edit-message-button")}):(0,n.jsx)(eD.K,{variant:"invisible","aria-label":"Edit message",onClick:e8,icon:b.PencilIcon,disabled:e9,...(0,eB.G)("edit-message-button")})),X&&(0,n.jsxs)(n.Fragment,{children:[en&&(0,n.jsx)(ef.G,{iconSize:"medium"}),!!C.content&&!i&&(0,n.jsx)(eA.T,{textToCopy:C.content??"",ariaLabel:"Copy to clipboard",size:"medium",className:"d-flex flex-items-center",onCopy:()=>(0,B.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_COPY",mode:"immersive"})})]}),eu&&Z?(0,n.jsx)(ex.$,{handleRetryMessage:G,disabled:e9}):K&&!Z&&!C.clientSide&&(0,n.jsx)(ex.$,{handleRetryMessage:$,disabled:e9,showModelPicker:!!e2&&e2.length>1,model:e3,navigateToNewThread:e0}),eH&&(0,n.jsx)(eO,{currentPage:ew,totalPages:ek,onPrev:eX,onNext:eZ,isUserMessage:et})]}),eW&&(0,n.jsxs)(ev.M,{"aria-label":"Message tools",className:"ChatMessage-module__sharedThreadActions--j7Y3f ChatMessage-module__actions--CS2_w","data-testid":"shared-toolbar",children:[X&&(0,n.jsx)(n.Fragment,{children:!!C.content&&!i&&(0,n.jsx)(eA.T,{textToCopy:C.content??"",ariaLabel:"Copy to clipboard",size:"medium",className:"d-flex flex-items-center actions",onCopy:()=>(0,B.BI)("dotcom_chat.activate",{target:"RESPONSE_ACTION_COPY",mode:"immersive"})})}),eH&&(0,n.jsx)(eO,{currentPage:ew,totalPages:ek,onPrev:eX,onNext:eZ,isUserMessage:et})]})]})}),el&&(0,n.jsx)(eV,{messageContent:C.content||"",onSubmit:q,onCancel:()=>_.cancelEditingMessage()})]})},eJ=({children:e})=>(0,n.jsx)(_.t,{fallback:(0,n.jsx)(T.l,{className:"ChatMessage-module__errorFallback--h1kRS",variant:"warning",title:"Message cannot be displayed",description:"An unknown error occurred while attempting to display this message."}),children:e}),eX=({message:e,messageIndex:t,isSharedMessage:a,isLatestMessage:s,...r})=>{let i=(0,F.H)();return(0,n.jsxs)(em.$,{message:e,children:[!(0,eW.E)(e)&&(0,n.jsx)(eY,{...r,messageIndex:t,isSharedMessage:a,isLatestMessage:s,isViewingSharedThread:i}),(0,n.jsx)(eW.p,{message:e,messageIndex:t,isViewingSharedThread:i,isSharedMessage:a,isLatestMessage:s})]})},eZ=(0,f.memo)(eX),e0=e=>{let{message:t}=e,a=(0,m.Pk)(),s=(0,ei.CX)(a.messages,t),r="user"===t.role&&a.messages.findLast(e=>"user"===e.role)?.id===t.id;return(0,n.jsx)(eZ,{...e,parentMessage:s,isLatestUserMessage:r})},e1=e=>(0,n.jsx)(eJ,{children:(0,n.jsx)(e0,{...e})});try{eY.displayName||(eY.displayName="InnerChatMessage")}catch{}try{eJ.displayName||(eJ.displayName="MessageErrorBoundary")}catch{}try{eX.displayName||(eX.displayName="ChatMessageUnmemoized")}catch{}try{eZ.displayName||(eZ.displayName="ChatMessageMemoized")}catch{}try{e0.displayName||(e0.displayName="ChatMessageWrapped")}catch{}try{e1.displayName||(e1.displayName="ChatMessage")}catch{}var e2=a(81945);function e3(){let e,t,a=(0,r.c)(2);return a[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)("div",{className:"ConversationLoader-module__ConversationLoader__userGroup--sBc4O",children:(0,n.jsx)(e2.O,{variant:"rounded",height:"20px",width:"random"})}),a[0]=e):e=a[0],a[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsxs)("div",{className:"ConversationLoader-module__ConversationLoader--kdZTM","data-testid":"conversation-loader",children:[e,(0,n.jsxs)("div",{className:"ConversationLoader-module__ConversationLoader__assistantGroup--sA3MD",children:[(0,n.jsx)(e2.O,{className:(0,ed.$)("ConversationLoader-module__ConversationLoader__assistantAvatar--Bt7IA","ConversationLoader-module__assistantAvatarSkeleton--f2f7n"),variant:"elliptical"}),Array.from({length:Math.floor(4*Math.random())+2}).map(e8)]})]}),a[1]=t):t=a[1],t}function e8(e,t){return(0,n.jsx)(e2.O,{variant:"rounded",height:"20px",width:"random"},t)}try{e3.displayName||(e3.displayName="ConversationLoader")}catch{}var e4=a(33544),e6=a(76720);let e7="ErrorState-module__container--FoMc5",e5="ErrorState-module__icon--ykhTC",e9="ErrorState-module__description--zsnez";function te(e){let t,a,s,i,u,o,l=(0,r.c)(13),{title:c,description:D,ssoOrgs:d}=e;l[0]!==d?(t=d&&d.length>0&&!(0,g.G7)("global_sso_banner"),l[0]=d,l[1]=t):t=l[1];let m=t;return l[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)("h1",{className:"sr-only",children:"Copilot Chat"}),l[2]=a):a=l[2],l[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)(e6.E.Visual,{children:(0,n.jsx)(b.AlertIcon,{size:"medium",className:e5})}),l[3]=s):s=l[3],l[4]!==c?(i=(0,n.jsx)(e6.E.Heading,{as:"h2",children:c}),l[4]=c,l[5]=i):i=l[5],l[6]!==D||l[7]!==m||l[8]!==d?(u=(void 0!==D||m)&&(0,n.jsxs)("div",{className:e9,children:[(0,n.jsx)(e6.E.Description,{children:(0,n.jsx)("span",{children:D})}),(0,n.jsx)("div",{className:"ErrorState-module__sso--Q4Ig1",children:m&&(0,n.jsx)(e4.x,{protectedOrgs:d})})]}),l[6]=D,l[7]=m,l[8]=d,l[9]=u):u=l[9],l[10]!==i||l[11]!==u?(o=(0,n.jsxs)("div",{className:e7,children:[a,(0,n.jsxs)(e6.E,{border:!1,children:[s,i,u]})]}),l[10]=i,l[11]=u,l[12]=o):o=l[12],o}function tt(e){let t,a,s,i,u,o,l,c=(0,r.c)(9),{mode:D}=e,{helpUrl:d}=(0,j.X)();c[0]!==D?(t=()=>{D&&(0,B.BI)("dotcom_chat.activate.error",{target:"ERROR_SHARED_THREAD_NO_ACCESS",mode:D,message:"Shared thread no access"})},a=[D],c[0]=D,c[1]=t,c[2]=a):(t=c[1],a=c[2]),(0,f.useEffect)(t,a),c[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,n.jsx)("h1",{className:"sr-only",children:"Copilot Chat"}),c[3]=s):s=c[3],c[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(e6.E.Visual,{children:(0,n.jsx)(b.LockIcon,{size:"medium",className:e5})}),u=(0,n.jsx)(e6.E.Heading,{as:"h2",children:"You don't have access to this shared conversation"}),c[4]=i,c[5]=u):(i=c[4],u=c[5]),c[6]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsx)(e6.E.Description,{children:(0,n.jsx)("span",{children:"To view this shared link, you must have permissions to all resources referenced in the conversation."})}),c[6]=o):o=c[6];let m=`${d}/copilot/using-github-copilot/copilot-chat/asking-github-copilot-questions-in-github#sharing-copilot-chat-conversations`;return c[7]!==m?(l=(0,n.jsxs)("div",{className:e7,children:[s,(0,n.jsxs)(e6.E,{border:!1,children:[i,u,(0,n.jsxs)("div",{className:e9,children:[o,(0,n.jsx)(L.A,{inline:!0,href:m,children:"Learn more"})]})]})]}),c[7]=m,c[8]=l):l=c[8],l}try{te.displayName||(te.displayName="ErrorState")}catch{}try{tt.displayName||(tt.displayName="SharedThreadForbidden")}catch{}let ta=e=>{let t,a,s,u,o,l,c,d,h,p,C,g=(0,r.c)(42),{inputRef:_,isMobile:E}=e,{scrollToBottom:F}=(0,ea.b)(),x=(0,m.Pk)(),{isWaitingOnCopilot:v,messagesLoading:y,streamingMessage:b,messages:j}=x,{reloadQuota:N,premiumChatQuotaRemaining:S,isLicensedLimited:I}=(0,i.xR)();g[0]!==x?(a=(0,eu.W)(x),t=(0,P.CB)(a),g[0]=x,g[1]=t,g[2]=a):(t=g[1],a=g[2]);let A=t,B=a?.sharedMessageID,{messages:R,groupedMessages:T}=(0,er.a)(x);g[3]!==R?(s=R.find(to)?.id,g[3]=R,g[4]=s):s=g[4];let w=s;g[5]!==F?(u=()=>F("instant"),o=[F],g[5]=F,g[6]=u,g[7]=o):(u=g[6],o=g[7]),(0,el.N)(u,o);let k=(0,ec.S)(x.streamingMessage);if(g[8]!==I||g[9]!==v||g[10]!==R.length||g[11]!==y.state||g[12]!==S||g[13]!==k||g[14]!==N||g[15]!==b?(l=()=>{R.length>0&&!I&&D.W.premiumRequestQuotasEnabled&&S<=P.aX&&!v&&"loaded"===y.state&&k&&!b&&N("quota_low_trigger")},c=[I,v,R.length,y.state,S,k,N,b],g[8]=I,g[9]=v,g[10]=R.length,g[11]=y.state,g[12]=S,g[13]=k,g[14]=N,g[15]=b,g[16]=l,g[17]=c):(l=g[16],c=g[17]),(0,f.useEffect)(l,c),g[18]===Symbol.for("react.memo_cache_sentinel")?(d=(0,n.jsx)("h1",{children:"Copilot Chat"}),g[18]=d):d=g[18],g[19]!==A?(h=(0,n.jsxs)("div",{className:"sr-only",children:[d,(0,n.jsx)("h2",{children:A})]}),g[19]=A,g[20]=h):h=g[20],g[21]!==j||g[22]!==w||g[23]!==T||g[24]!==_||g[25]!==E||g[26]!==v||g[27]!==B||g[28]!==b?.id){let e;g[30]!==j||g[31]!==w||g[32]!==T.length||g[33]!==_||g[34]!==E||g[35]!==v||g[36]!==B||g[37]!==b?.id?(e=(e,t)=>(0,n.jsx)(et.i,{isLastGroup:t===T.length-1,children:e.map((a,s)=>{let r=-1===a.messageIndex?j.length:a.messageIndex,i=t===T.length-1&&s===e.length-1;return(0,n.jsx)(e1,{isLatestMessage:i,isSharedMessage:a.id===B,isFirstReply:a.id===w,message:a,messageIndex:r,inputRef:_,isStreaming:a.id===b?.id||i&&v,autoOpenPreviewPane:!E},s)})},t),g[30]=j,g[31]=w,g[32]=T.length,g[33]=_,g[34]=E,g[35]=v,g[36]=B,g[37]=b?.id,g[38]=e):e=g[38],p=T.map(e),g[21]=j,g[22]=w,g[23]=T,g[24]=_,g[25]=E,g[26]=v,g[27]=B,g[28]=b?.id,g[29]=p}else p=g[29];return g[39]!==h||g[40]!==p?(C=(0,n.jsxs)("div",{children:[h,p]}),g[39]=h,g[40]=p,g[41]=C):C=g[41],C},ts=()=>{let e,t,a,s=(0,r.c)(4),{mode:i}=(0,m.Pk)();return s[0]!==i?(e=()=>{(0,B.BI)("dotcom_chat.activate.error",{target:"ERROR_CONVERSATION_FAILED_TO_LOAD",mode:i,message:"Chat failed to load"})},t=[i],s[0]=i,s[1]=e,s[2]=t):(e=s[1],t=s[2]),(0,f.useEffect)(e,t),s[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)(te,{title:"Chat failed to load",description:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(L.A,{href:"",onClick:tl,inline:!0,children:"Reload the page"})," ","to try again."]})}),s[3]=a):a=s[3],a},tn=()=>{let e,t,a,s=(0,r.c)(4),{mode:i}=(0,m.Pk)();return s[0]!==i?(e=()=>{(0,B.BI)("dotcom_chat.activate.error",{target:"ERROR_ACCESS_DENIED",mode:i,message:"Access denied"})},t=[i],s[0]=i,s[1]=e,s[2]=t):(e=s[1],t=s[2]),(0,f.useEffect)(e,t),s[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,n.jsx)(te,{title:"Access denied",description:"You do not have permission to view this."}),s[3]=a):a=s[3],a},tr=e=>{let t,a,s,i=(0,r.c)(9),{isSharedThread:u}=e,{mode:o}=(0,m.Pk)(),{needsSsoAuthentication:l,ssoOrgNames:D}=y(),d=(0,c.G)(),h=u?"Shared chat not found":"Chat not found",p=l?`This URL may be incorrect, you may be signed out of your organization or the ${d?"space":"chat"} may have been deleted.`:"This URL may be incorrect or the chat may have been deleted.";return i[0]!==u||i[1]!==o||i[2]!==h?(t=()=>{(0,B.BI)("dotcom_chat.activate.error",{target:u?"ERROR_SHARED_CONVERSATION_NOT_FOUND":"ERROR_CONVERSATION_NOT_FOUND",mode:o,message:h})},a=[o,u,h],i[0]=u,i[1]=o,i[2]=h,i[3]=t,i[4]=a):(t=i[3],a=i[4]),(0,f.useEffect)(t,a),i[5]!==p||i[6]!==D||i[7]!==h?(s=(0,n.jsx)(te,{title:h,description:p,ssoOrgs:D}),i[5]=p,i[6]=D,i[7]=h,i[8]=s):s=i[8],s},ti=e=>{let t,a,s,i,u,o=(0,r.c)(20),{inputRef:l,isMobile:c}=e,D=(0,m.Pk)(),{messagesLoading:d,threadsLoading:h,messages:p,showTopicPicker:C,pendingFirstMessage:g}=D,_=(0,eu.W)(D),{textAreaRef:f}=(0,en.Y)(l),E=(0,F.H)(),x=null,v=null;if((0,ei.B)(p,g).length&&"loaded"===d.state){let e;o[0]!==c||o[1]!==f?(e=(0,n.jsx)(ta,{inputRef:f,isMobile:c}),o[0]=c,o[1]=f,o[2]=e):e=o[2],x=e}else if(("loading"===d.state||"pending"===d.state)&&D.selectedThreadID&&!C){let e;o[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(e3,{}),o[3]=e):e=o[3],x=e}else if("error"===d.state&&D.selectedThreadID&&(null===_&&"error"!==h.state||d.notFound))if(E&&D.fetchSharedThreads?.ok===!1&&(403===D.fetchSharedThreads.status||401===D.fetchSharedThreads.status)){let e;o[4]!==D.mode?(e=(0,n.jsx)(tt,{mode:D.mode}),o[4]=D.mode,o[5]=e):e=o[5],v=e}else{let e;o[6]!==E?(e=(0,n.jsx)(tr,{isSharedThread:E}),o[6]=E,o[7]=e):e=o[7],v=e}else if("error"===d.state||"error"===h.state){let e;o[8]!==h.status?(e=403===h.status?(0,n.jsx)(tn,{}):(0,n.jsx)(ts,{}),o[8]=h.status,o[9]=e):e=o[9],v=e}let y=(0,eo.U)();return o[10]===Symbol.for("react.memo_cache_sentinel")?(t=(0,n.jsx)(tu,{}),o[10]=t):t=o[10],o[11]!==v?(a=v&&(0,n.jsx)("div",{className:"ImmersiveChat-module__emptyContent--a_vXm",children:v}),o[11]=v,o[12]=a):a=o[12],o[13]!==x?(s=x&&(0,n.jsxs)("div",{className:"ImmersiveChat-module__messageContent--JE3f_",children:[x,(0,n.jsx)(es.Cb,{})]}),o[13]=x,o[14]=s):s=o[14],o[15]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(es.zc,{}),o[15]=i):i=o[15],o[16]!==y||o[17]!==a||o[18]!==s?(u=(0,n.jsxs)(ea.$,{className:"ImmersiveChat-module__container--h_Pmt",containerRef:y,children:[t,a,s,i]}),o[16]=y,o[17]=a,o[18]=s,o[19]=u):u=o[19],u},tu=()=>{let e,t,a,s=(0,r.c)(7),{isScrolledUp:i,scrollToBottom:u}=(0,ea.b)(),o=!i&&"ImmersiveChat-module__hidden--b_DNj";return s[0]!==o?(e=(0,ed.$)("ImmersiveChat-module__scrollToBottomButton--FbWSF",o),s[0]=o,s[1]=e):e=s[1],s[2]!==u?(t=()=>u("smooth"),s[2]=u,s[3]=t):t=s[3],s[4]!==e||s[5]!==t?(a=(0,n.jsx)(eD.K,{"aria-label":"Scroll to bottom",className:e,onClick:t,icon:b.ArrowDownIcon,tooltipDirection:"n"}),s[4]=e,s[5]=t,s[6]=a):a=s[6],a};try{ta.displayName||(ta.displayName="Messages")}catch{}try{ts.displayName||(ts.displayName="FailedToLoadThreadError")}catch{}try{tn.displayName||(tn.displayName="AccessDeniedError")}catch{}try{tr.displayName||(tr.displayName="NotFoundError")}catch{}try{ti.displayName||(ti.displayName="ImmersiveChat")}catch{}try{tu.displayName||(tu.displayName="ScrollToBottomButton")}catch{}function to(e){return"assistant"===e.role}function tl(e){e.preventDefault(),window.location.reload()}var tc=a(97189),tD=a(92130),td=a(93412),tm=a(17593),th=a(56128),tp=a(91747),tC=a(74807),tg=a(52870);function t_(e){let t,a,s,i,u,o=(0,r.c)(12),{className:l}=e,[c,D]=(0,f.useState)(tC.L.Static),[m,h]=(0,f.useState)(!0),{safeSetTimeout:p}=(0,tg.A)();return o[0]!==p?(t=()=>{let e=p(()=>{d.Jt.getAnimationFlag()?(D(tC.L.Activate),h(!1)):(D(tC.L.Idle),h(!0))},1e3);return()=>clearTimeout(e)},a=[p],o[0]=p,o[1]=t,o[2]=a):(t=o[1],a=o[2]),(0,f.useEffect)(t,a),o[3]!==c?(s=()=>{c===tC.L.Activate&&(D(tC.L.Idle),h(!0),d.Jt.removeAnimationFlag())},o[3]=c,o[4]=s):s=o[4],o[5]!==c||o[6]!==m||o[7]!==s?(i=(0,n.jsx)(tC.N,{animationType:c,onAnimationEnd:s,loopAnimation:m,size:48}),o[5]=c,o[6]=m,o[7]=s,o[8]=i):i=o[8],o[9]!==l||o[10]!==i?(u=(0,n.jsx)("div",{className:l,children:i}),o[9]=l,o[10]=i,o[11]=u):u=o[11],u}try{t_.displayName||(t_.displayName="CopilotEmptyStateAnimation")}catch{}var tf=a(95772);let tE="ChatInputBanners-module__banner--itq1j",tF={trial:{title:"Copilot Pro trial activated",description:"Your 30-day Copilot Pro trial is now active.",dismissTarget:"TRIAL_SUCCESS_BANNER_DISMISS",clearFlagsOnDismiss:[]},pro_plus:{title:"Copilot Pro+ activated",description:"Your Copilot Pro+ subscription is now active.",dismissTarget:"PRO_PLUS_SUCCESS_BANNER_DISMISS",clearFlagsOnDismiss:["trial"]}};function tx(e){let t,a,s,i=(0,r.c)(10),{skuType:u,onDismiss:o,className:l}=e,c=tF[u];return c?(i[0]!==c.dismissTarget||i[1]!==o?(t=()=>{o(),(0,B.BI)("dotcom_chat.activate",{target:c.dismissTarget,mode:"immersive"})},i[0]=c.dismissTarget,i[1]=o,i[2]=t):t=i[2],i[3]!==c.description||i[4]!==c.title||i[5]!==t?(a=(0,n.jsx)(T.l,{variant:"success",title:c.title,description:c.description,hideTitle:!0,onDismiss:t}),i[3]=c.description,i[4]=c.title,i[5]=t,i[6]=a):a=i[6],i[7]!==l||i[8]!==a?(s=(0,n.jsx)("div",{className:l,children:a}),i[7]=l,i[8]=a,i[9]=s):s=i[9],s):null}try{tx.displayName||(tx.displayName="SkuSuccessBanner")}catch{}let tv=["pro_plus","trial"],ty=()=>{let e=Object.create(null);for(let t of tv)e[t]=d.Jt.getSkuSuccessBannerFlag(t)??!1;return e};function tb(){let e,t,a,s=(0,r.c)(11),u=(0,i.xR)().licenseType,{activeSku:o,visibility:l}=function(){let e,t,a,s=(0,r.c)(7),[n,i]=(0,f.useState)(ty);s[0]!==n?(e=tv.find(e=>n[e])||null,s[0]=n,s[1]=e):e=s[1];let u=e;if(s[2]!==u){for(let e of(t={},tv)){let a=tF[e],s=new Set([e,...a?.clearFlagsOnDismiss??[]]);t[e]={visible:u===e,onDismiss:()=>{for(let e of s)d.Jt.removeSkuSuccessBannerFlag(e);i(e=>{let t={...e};for(let e of s)t[e]=!1;return t})}}}s[2]=u,s[3]=t}else t=s[3];return s[4]!==u||s[5]!==t?(a={activeSku:u,visibility:t},s[4]=u,s[5]=t,s[6]=a):a=s[6],a}(),c="trial"===o&&u===eS.mF.LicensedFull,D=o&&"trial"!==o;return s[0]!==o||s[1]!==c||s[2]!==l?(e=c&&l.trial&&(0,n.jsx)(tx,{skuType:o,className:tE,onDismiss:l.trial.onDismiss}),s[0]=o,s[1]=c,s[2]=l,s[3]=e):e=s[3],s[4]!==o||s[5]!==D||s[6]!==l?(t=D&&l[o]&&(0,n.jsx)(tx,{skuType:o,className:tE,onDismiss:l[o].onDismiss}),s[4]=o,s[5]=D,s[6]=l,s[7]=t):t=s[7],s[8]!==e||s[9]!==t?(a=(0,n.jsxs)(n.Fragment,{children:[e,t]}),s[8]=e,s[9]=t,s[10]=a):a=s[10],a}try{tb.displayName||(tb.displayName="NewConversationBanners")}catch{}let tj=e=>{switch(e){case"displayed":(0,B.BI)("view",{category:"universe_banner",action:"banner_view",label:"banner_universe_loggedIn"});break;case"clicked":(0,B.BI)("click",{category:"universe_banner",action:"banner_click_openModal",label:"banner_universe_loggedIn"});break;case"dismissed":(0,B.BI)("click",{category:"universe_banner",action:"banner_dismiss",label:"banner_universe_loggedIn"})}},tN=(e,t)=>{switch(e){case"opened":(0,B.BI)("view",{category:"universe_modal",action:"modal_view",label:"modal_universe_loggedIn"});break;case"closed":(0,B.BI)("click",{category:"universe_modal",action:"modal_close",label:"modal_universe_loggedIn"});break;case"tab_clicked":(0,B.BI)("click",{category:"universe_modal",action:"modal_nav_click",label:"modal_universe_loggedIn",navItem:t?.tabName});break;case"main_cta_clicked":(0,B.BI)("click",{category:"universe_modal",action:"modal_primary_cta_left_click",label:"modal_universe_loggedIn"});break;case"see_all_clicked":(0,B.BI)("click",{category:"universe_modal",action:"modal_seeAllAnnouncements_left_click",label:"modal_universe_loggedIn"});break;case"tab_cta_1_clicked":(0,B.BI)("click",{category:"universe_modal",action:"modal_primary_cta_right_click",label:"modal_universe_loggedIn",navItem:t?.tabName,ctaType:"primary_right",ctaUrl:t?.url,userStatus:"logged_in",positionIndex:t?.tabIndex});break;case"tab_cta_2_clicked":(0,B.BI)("click",{category:"universe_modal",action:"modal_secondary_cta_right_click",label:"modal_universe_loggedIn",navItem:t?.tabName,ctaType:"secondary_right",ctaUrl:t?.url,userStatus:"logged_in",positionIndex:t?.tabIndex});break;case"tab_link_clicked":(0,B.BI)("click",{category:"universe_modal",action:"modal_link_right_click",label:"modal_universe_loggedIn",navItem:t?.tabName,ctaType:"learn_more_right",ctaUrl:t?.url,userStatus:"logged_in",positionIndex:t?.tabIndex});break;case"tab_description_link_clicked":(0,B.BI)("click",{category:"universe_modal",action:"modal_description_link_right_click",label:"modal_universe_loggedIn",navItem:t?.tabName,ctaType:"link",ctaUrl:t?.url,userStatus:"logged_in",positionIndex:t?.tabIndex})}};var tS=a(2702);function tI(e){let t,a,s,u,o,c,d,h,p,C,_,E,F,x,v,y,b=(0,r.c)(40),{textAreaRef:j,handleUserSubmit:N,nextMessageIndex:S}=e,I=(0,l.b)(),A=(0,m.Pk)();b[0]!==A?(t=(0,eu.W)(A),b[0]=A,b[1]=t):t=b[1];let R=t;b[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,g.G7)("copilot_chat_cca_request_cta"),b[2]=a):a=b[2];let T=a,w=(0,f.useRef)(null),{chatQuotaExceeded:k,isLicensedLimited:M}=(0,i.xR)(),P=M&&k,[L,O]=(0,f.useState)(null),U=(0,f.useRef)(null);b[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,g.G7)("hyperspace_nudges_universe25")?"universe25":"",b[3]=s):s=b[3];let z=s,{plan:H}=(0,i.xR)();b[4]!==R||b[5]!==I||b[6]!==A?(u=e=>{let t=0===A.messages.length?R:(0,eu.W)(A),a=A.currentUserLogin||"",s=e.message.replaceAll("$$USERNAME$$",a);I.sendChatMessage({thread:t,content:s,references:A.currentReferences,topic:A.currentTopic,context:A.context,customInstructions:A.customInstructions,model:A.model}),(0,B.BI)("dotcom_chat.activate",{target:"NEW_CONVERSATION_STARTER_MENU_ITEM",topic:A.currentTopic?.name,mode:"immersive",starterId:e.id})},b[4]=R,b[5]=I,b[6]=A,b[7]=u):u=b[7];let G=u,$=(0,tp.u)("copilot_swe_agent_progress_commands")&&A.agentsEnabled,q=(0,tp.u)("copilot_agent_task_list_v2");b[8]===Symbol.for("react.memo_cache_sentinel")?(o=(0,n.jsx)("div",{className:"NewConversation-module__banner--binRv",children:(0,n.jsx)(tb,{})}),b[8]=o):o=b[8];let Q=$&&q;b[9]!==Q?(c=(0,ed.$)("NewConversation-module__main--P10kO",{"NewConversation-module__withTaskList--iIEmp":Q}),b[9]=Q,b[10]=c):c=b[10],b[11]===Symbol.for("react.memo_cache_sentinel")?(d=(0,n.jsx)("h1",{className:"sr-only",children:"Copilot Chat"}),b[11]=d):d=b[11];let W=(0,tp.u)("copilot_pro_plus_animation")?(0,n.jsx)(t_,{}):(0,n.jsx)(tD.A,{hidden:!0});return b[12]!==N||b[13]!==S||b[14]!==j?(h=(0,n.jsx)(Z,{chatInputRef:U,textAreaRef:j,handleUserSubmit:N,nextMessageIndex:S,onChatCommandChange:O,isNewConversation:!0,containerRef:w,slashCommandsEnabled:!0,showDisabledInputOnQuotaExceeded:!0}),b[12]=N,b[13]=S,b[14]=j,b[15]=h):h=b[15],b[16]!==L||b[17]!==G||b[18]!==P||b[19]!==j?(p=!P&&(D.W.chatInputCommands?(0,n.jsx)("div",{className:"NewConversation-module__commandStartersContainer--noJst",children:(0,n.jsx)(tf.A,{chatCommand:L,chatInputRef:U,textAreaRef:j,containerRef:w})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(tS.X,{taskStarterEnabled:T,handleStarterEntrySelect:G,startersLocationId:"new_conversation"})})),b[16]=L,b[17]=G,b[18]=P,b[19]=j,b[20]=p):p=b[20],b[21]!==h||b[22]!==p||b[23]!==W?(C=(0,n.jsxs)("div",{className:"NewConversation-module__inputAndStartersContainer--jSg3S",children:[W,h,p]}),b[21]=h,b[22]=p,b[23]=W,b[24]=C):C=b[24],b[25]!==H?(_=z&&(0,n.jsx)(th.A,{id:"copilot-immersive-v1",announcementId:z,shouldShowTabCtas:!!(H&&H!==eS.UH.IndividualFree),shouldShowMainCta:!!(!H||H===eS.UH.IndividualFree),useLocalStorage:!0,onBannerEvent:tj,onModalEvent:tN}),b[25]=H,b[26]=_):_=b[26],b[27]!==$||b[28]!==q?(E=$&&q&&(0,n.jsx)("div",{className:"NewConversation-module__agentListContainer--uNTRm",children:(0,n.jsx)(tc.Fn,{children:(0,n.jsx)(tm.f,{showViewAll:!0,title:"Recent agent sessions",initialResultCount:5})})}),b[27]=$,b[28]=q,b[29]=E):E=b[29],b[30]!==C||b[31]!==_||b[32]!==E?(F=(0,n.jsx)("div",{className:"NewConversation-module__content--cXGzS",children:(0,n.jsxs)("div",{className:"NewConversation-module__innerContainer--u29kY",children:[d,C,_,E]})}),b[30]=C,b[31]=_,b[32]=E,b[33]=F):F=b[33],b[34]!==F||b[35]!==c?(x=(0,n.jsx)("div",{className:c,children:F}),b[34]=F,b[35]=c,b[36]=x):x=b[36],b[37]===Symbol.for("react.memo_cache_sentinel")?(v=(0,n.jsx)("div",{className:"NewConversation-module__footer--HIKDz",children:(0,n.jsx)(td.h,{})}),b[37]=v):v=b[37],b[38]!==x?(y=(0,n.jsx)("div",{className:"NewConversation-module__scrollContainer--pS_a1",children:(0,n.jsxs)("div",{className:"NewConversation-module__container--fMmET",children:[o,x,v]})}),b[38]=x,b[39]=y):y=b[39],y}try{tI.displayName||(tI.displayName="NewConversation")}catch{}function tA(e){let t,a,s,_,x,v,y=(0,r.c)(30),{isMobile:b,textAreaRef:j,attachmentMenuSide:N}=e,S=(0,m.Pk)(),I=(0,l.b)(),A=(0,o.Kf)(),{messages:B,messagesLoading:R,threadsLoading:T}=S,{chatQuotaExceeded:w}=(0,i.xR)(),k=(0,c.G)(),{data:M}=(0,p.Ao)(k),{variant:P}=J(k,S.selectedThreadID),L=(!P||!!M)&&P!==Y,{handleSpaceSelect:O}=(0,C.C)(),U=(0,f.useRef)(S.currentTopic),z=(0,F.H)(),H=!S.selectedThreadID&&d.Jt.getEntrypointMessage();e:{if(S.selectedThreadID||S.pendingFirstMessage||H||k||"error"===R.state||"error"===T.state||S.shouldReplaceHistoryOnNavigation){t=!1;break e}t=!0}let G=t,$=B.length,q=(0,E.T)(U,$);return y[0]!==S.currentTopic?(a=()=>{U.current=S.currentTopic},s=[S.currentTopic],y[0]=S.currentTopic,y[1]=a,y[2]=s):(a=y[1],s=y[2]),(0,f.useEffect)(a,s),y[3]!==w||y[4]!==O||y[5]!==q||y[6]!==I||y[7]!==S.selectedThreadID||y[8]!==S.threadsLoading.state?(_=()=>{let e=async e=>{d.Jt.clearEntrypointMessage(S.selectedThreadID);let t=e?.references?.find?.(tB),a=t?{id:t.id,owner:t.owner}:null;a&&O(a);let s=(0,g.G7)("copilot_chat_action_logs_redirect")&&e.message===(0,h.oo)(void 0,!0);e.model&&I.selectModel(e.model),I.setShouldReplaceHistoryOnNavigation(!0);let n=S.selectedThreadID?I.getThreadById(S.selectedThreadID):null;if(S.selectedThreadID&&!n&&"loaded"!==S.threadsLoading.state){let e=await I.fetchThreads();n=e?.find(e=>e.id===S.selectedThreadID)||null}setTimeout(()=>{q(e.message,e.references,s,e.model,a,e.mediaContent,n)},100)},t=d.Jt.getEntrypointMessage(S.selectedThreadID);t&&!w&&e(t)},y[3]=w,y[4]=O,y[5]=q,y[6]=I,y[7]=S.selectedThreadID,y[8]=S.threadsLoading.state,y[9]=_):_=y[9],y[10]!==w||y[11]!==O||y[12]!==q||y[13]!==I||y[14]!==S.currentReferences||y[15]!==S.selectedThreadID||y[16]!==S.threadsLoading.state?(x=[q,w,S.currentReferences,I,O,S.selectedThreadID,S.threadsLoading.state],y[10]=w,y[11]=O,y[12]=q,y[13]=I,y[14]=S.currentReferences,y[15]=S.selectedThreadID,y[16]=S.threadsLoading.state,y[17]=x):x=y[17],(0,f.useEffect)(_,x),y[18]!==N||y[19]!==q||y[20]!==b||y[21]!==z||y[22]!==$||y[23]!==G||y[24]!==L||y[25]!==S.selectedThreadID||y[26]!==S.sharedThreadChannel||y[27]!==j||y[28]!==A.traceInfo?.visible?(v=(0,n.jsx)("div",{className:"ConversationView-module__root--k4AIo",children:A.traceInfo?.visible?(0,n.jsx)(u.k,{sharedThreadChannel:S.sharedThreadChannel,threadId:S.selectedThreadID}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"ConversationView-module__container--XaY36",children:G?(0,n.jsx)(tI,{textAreaRef:j,handleUserSubmit:q,nextMessageIndex:$}):(0,n.jsx)(ti,{inputRef:j,isMobile:b})}),(!z||D.W.copilotDuplicateThread)&&!G&&(0,n.jsxs)("div",{className:"ConversationView-module__footer--xr6HB",children:[!L&&(0,n.jsx)(X,{}),L&&(0,n.jsx)(Z,{textAreaRef:j,handleUserSubmit:q,nextMessageIndex:$,slashCommandsEnabled:!0,attachmentMenuSide:N})]})]})}),y[18]=N,y[19]=q,y[20]=b,y[21]=z,y[22]=$,y[23]=G,y[24]=L,y[25]=S.selectedThreadID,y[26]=S.sharedThreadChannel,y[27]=j,y[28]=A.traceInfo?.visible,y[29]=v):v=y[29],v}function tB(e){return"copilot-space"===e.type}function tR(e){let t,a=(0,r.c)(2);return a[0]!==e?(t=(0,n.jsx)(tT,{children:(0,n.jsx)(tA,{...e})}),a[0]=e,a[1]=t):t=a[1],t}function tT(e){let t,a,s,i,u,o=(0,r.c)(8),{selectedThreadID:l}=(0,m.bP)("selectedThreadID"),[c,d]=(0,f.useState)(0),h=(0,f.useRef)(!1);o[0]===Symbol.for("react.memo_cache_sentinel")?(t=()=>{h.current=!0},o[0]=t):t=o[0];let p=t;return o[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{D.W.stableConversationView&&h.current&&(d(tw),h.current=!1)},o[1]=a):a=o[1],o[2]!==l?(s=[l],o[2]=l,o[3]=s):s=o[3],(0,f.useEffect)(a,s),o[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,n.jsx)(ee.x,{regionName:"This conversation"}),o[4]=i):i=o[4],o[5]!==c||o[6]!==e.children?(u=(0,n.jsx)(_.t,{fallback:i,onError:p,children:e.children},c),o[5]=c,o[6]=e.children,o[7]=u):u=o[7],u}function tw(e){return e+1}try{tA.displayName||(tA.displayName="ConversationViewInner")}catch{}try{tR.displayName||(tR.displayName="ConversationView")}catch{}try{tT.displayName||(tT.displayName="ConversationViewErrorBoundary")}catch{}},48217:(e,t,a)=>{a.d(t,{K:()=>C});var s=a(74848),n=a(21728),r=a(47865),i=a(37294),u=a(47789),o=a(79064),l=a(2635),c=a(42312),D=a(94195),d=a(96540),m=a(57244),h=a(90918),p=a(1747);function C(e){let t,a,C,g,_,f,E,F,x,v,y,b,j,N=(0,n.c)(35),{payload:S,children:I}=e,A=(0,h.g)(),B=S.requestedTopic;if(S.reference){let e,a;N[0]!==S.reference?(e=[S.reference],N[0]=S.reference,N[1]=e):e=N[1],N[2]!==B||N[3]!==e?(a={refs:e,topic:B},N[2]=B,N[3]=e,N[4]=a):a=N[4],t=a}else{let e,a;N[5]===Symbol.for("react.memo_cache_sentinel")?(e=[],N[5]=e):e=N[5],N[6]!==B?(a={refs:e,topic:B},N[6]=B,N[7]=a):a=N[7],t=a}let{refs:R,topic:T}=t;N[8]===Symbol.for("react.memo_cache_sentinel")?(a=[],N[8]=a):a=N[8];let[,w]=(0,d.useState)(a);N[9]===Symbol.for("react.memo_cache_sentinel")?(C={onError:(e,t)=>{w(e=>[{...t},...e])}},N[9]=C):C=N[9];let{createTask:k}=(0,r.Z)(C);N[10]!==k?(g=(e,t,a,s)=>{let n=e.trim();""!==n&&a&&""!==a.trim()&&t&&k({nwo:t.nameWithOwner,problemStatement:n,baseRef:a,eventType:"immersive_page",eventContent:n,customAgent:s})},N[10]=k,N[11]=g):g=N[11];let M=g,P=(0,d.useRef)(M);N[12]!==S.reference?(_=()=>{S.reference?.type==="repository"&&o.Jt.setLastUsedRepository(S.reference)},f=[S.reference],N[12]=S.reference,N[13]=_,N[14]=f):(_=N[13],f=N[14]),(0,d.useEffect)(_,f),N[15]!==M?(E=()=>{P.current=M},F=[M],N[15]=M,N[16]=E,N[17]=F):(E=N[16],F=N[17]),(0,d.useEffect)(E,F),N[18]!==S?(x={payload:S,handleUserSubmitRef:P},N[18]=S,N[19]=x):x=N[19];let L=(0,m.N)(x);return N[20]!==I?(v=(0,s.jsx)(p.BH,{children:I}),N[20]=I,N[21]=v):v=N[21],N[22]!==S||N[23]!==R||N[24]!==v||N[25]!==A||N[26]!==T?(y=(0,s.jsx)(l.Mj,{workerPath:S.searchWorkerFilePath,threadId:A,refs:R,mode:"immersive",topic:T,ssoOrganizations:S.ssoOrganizations,copilotChatPayload:S,children:v}),N[22]=S,N[23]=R,N[24]=v,N[25]=A,N[26]=T,N[27]=y):y=N[27],N[28]!==S.apiURL||N[29]!==S.ssoOrganizations||N[30]!==y?(b=(0,s.jsx)(i.hh,{apiURL:S.apiURL,ssoOrgs:S.ssoOrganizations,children:y}),N[28]=S.apiURL,N[29]=S.ssoOrganizations,N[30]=y,N[31]=b):b=N[31],N[32]!==L||N[33]!==b?(j=(0,s.jsx)(c.KL,{children:(0,s.jsx)(D.LB,{children:(0,s.jsx)(u.Hb,{plugins:L,children:b})})}),N[32]=L,N[33]=b,N[34]=j):j=N[34],j}try{C.displayName||(C.displayName="CopilotImmersiveProviders")}catch{}},50766:(e,t,a)=>{a.d(t,{R:()=>w});var s=a(74848),n=a(21728),r=a(71363),i=a(33592),u=a(61180),o=a(25641),l=a(66990),c=a(6551),D=a(38621),d=a(21373),m=a(26108),h=a(19579),p=a(34164),C=a(96540),g=a(1747),_=a(31078),f=a(53552),E=a(54030),F=a(51213),x=a(54114),v=a(39176),y=a(78314),b=a(91547);let j="ResourcePanel-module__resourcePanelHeaderRow--U3piY",N="ResourcePanel-module__resourcePanelPlaceholder--Tzewz",S="ResourcePanel-module__resourcePanelNavItem--Q9A53";function I(e){let t=(0,n.c)(16),{fetchError:a,loading:r,selectedBranch:i,selectedRepo:u}=e,[o,l,c]=(0,b.E)(u?.ownerLogin,u?.name,i===u?.defaultBranch?void 0:i,"/"),D=l&&!!u&&i!==u.defaultBranch,d=i===u?.defaultBranch?u?.commitOID:o?.oid;if(u)if(r||D||!d){let e;return t[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)("div",{className:N,children:"Loading repository..."}),t[1]=e):e=t[1],e}else{let e,n,r,o;t[2]!==d||t[3]!==u.refInfo.name?(e={name:u.refInfo.name,canEdit:!0,listCacheKey:"anything",currentOid:d},t[2]=d,t[3]=u.refInfo.name,t[4]=e):e=t[4];let l=i||u.defaultBranch,D=!!a||!!c;return t[5]!==d||t[6]!==u||t[7]!==l||t[8]!==D?(n=(0,s.jsx)(A,{branch:l,currentRepo:u,fetchError:D,oid:d}),t[5]=d,t[6]=u,t[7]=l,t[8]=D,t[9]=n):n=t[9],t[10]!==e||t[11]!==n?(r=(0,s.jsx)(_.Ck,{children:(0,s.jsx)(f.qV,{refInfo:e,path:"test",action:"tree",copilotAccessAllowed:!0,children:n})}),t[10]=e,t[11]=n,t[12]=r):r=t[12],t[13]!==u||t[14]!==r?(o=(0,s.jsx)("div",{children:(0,s.jsx)(y.d,{repository:u,children:r})}),t[13]=u,t[14]=r,t[15]=o):o=t[15],o}{let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)("div",{className:N,children:"Select a repository to view files"}),t[0]=e):e=t[0],e}}function A(e){let t,a,r,u,l,c=(0,n.c)(19),{branch:D,currentRepo:d,fetchError:m,oid:h}=e,{openPreviewPane:p,openItem:_,updateItem:f}=(0,g.xx)(),y=(0,i.b)(),{list:b,directories:j,loading:N}=(0,E.o)(h,!0);c[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],c[0]=t):t=c[0];let[S,I]=(0,C.useState)(t),[A,R]=(0,C.useState)(T);c[1]!==D||c[2]!==d||c[3]!==y.service||c[4]!==h||c[5]!==_||c[6]!==p||c[7]!==f?(a=async e=>{if(0===e.size)return;let t=Array.from(e)[0],a=await y.service.fetchFileContents(d.id,h,t);if(a.ok&&a.payload){let e={messageId:F.Wp,id:`file:${t}#0`,timestamp:new Date,isUserEdited:!1,value:a.payload?.content,type:"file",name:t,isStreaming:!1,language:a.payload?.language??"plaintext",reference:(0,o.Od)(t,d,D,h)};f(e),_(e.id),p()}R(new Set([t]))},c[1]=D,c[2]=d,c[3]=y.service,c[4]=h,c[5]=_,c[6]=p,c[7]=f,c[8]=a):a=c[8];let w=a;c[9]!==j||c[10]!==b?(r=()=>{I((0,v.k)({paths:b,directories:j}))},u=[b,j,I],c[9]=j,c[10]=b,c[11]=r,c[12]=u):(r=c[11],u=c[12]),(0,C.useEffect)(r,u);let k=N||!1,M=!!m;return c[13]!==w||c[14]!==S||c[15]!==A||c[16]!==k||c[17]!==M?(l=(0,s.jsx)(x.Rw,{rootItems:S,expandedPath:"",setRootItems:I,navigateOnClick:!1,directoryNavigateOnClick:!1,selectedItems:A,onSelectionChange:w,loading:k,fetchError:M,sortDirectoryItems:B,singleSelect:!0}),c[13]=w,c[14]=S,c[15]=A,c[16]=k,c[17]=M,c[18]=l):l=c[18],l}function B(e){return e.sort(R)}function R(e,t){return e.data.name.localeCompare(t.data.name)}function T(){return new Set}try{I.displayName||(I.displayName="FileTab")}catch{}try{A.displayName||(A.displayName="ResourcePanelFileTree")}catch{}function w(e){let t,a,o,_,f,E,F,x,v,y,b,A,B,R,T,w,M,P,L,O,U,z,H,G=(0,n.c)(53),{className:$}=e,{closeResourcePanel:q}=(0,g.xx)(),[Q,W]=(0,C.useState)(!1),{fetchError:V,loading:K,selectedBranch:Y,selectedRepo:J,setSelectedBranch:X,setSelectedRepo:Z}=function(){let e,t,a,s,r,o,l=(0,n.c)(23),D=(0,i.b)(),{items:d,selectedItem:m}=(0,g.xx)(),h=(0,c.S)(m),[p,_]=(0,u.T)(),[f,E]=(0,C.useState)("");l[0]!==d||l[1]!==p||l[2]!==m?(e=()=>{let e=k(m&&d.get(m));return e?{repo:null,repoID:e,branch:void 0}:p?{repo:p,repoID:p.id,branch:p.defaultBranch}:{repo:null,repoID:-1,branch:void 0}},l[0]=d,l[1]=p,l[2]=m,l[3]=e):e=l[3];let[F,x]=(0,C.useState)(e);l[4]!==D.service||l[5]!==_?(t=(e,t)=>{let a=D.service.getCachedRepo(e);a?(x({repo:a,repoID:e,branch:t??a.defaultBranch}),_(a)):x({repo:null,repoID:e,branch:t})},l[4]=D.service,l[5]=_,l[6]=t):t=l[6];let v=t;l[7]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{x(t=>({...t,branch:e}))},l[7]=a):a=l[7];let y=a;if(h!==m&&m){let e=k(d.get(m));e&&e!==F.repoID&&v(e)}l[8]!==D.service||l[9]!==F.repo||l[10]!==F.repoID||l[11]!==_?(s=()=>{let e=async e=>{let t=await D.service.fetchRepo(e);t.ok&&t.payload?(x(e=>({repo:t.payload,repoID:t.payload.id,branch:e.branch??t.payload.defaultBranch})),_(t.payload)):t.error&&E(t.error)};F.repoID>0&&!F.repo&&e(F.repoID)},l[8]=D.service,l[9]=F.repo,l[10]=F.repoID,l[11]=_,l[12]=s):s=l[12],l[13]!==D||l[14]!==F||l[15]!==_?(r=[D,F,_],l[13]=D,l[14]=F,l[15]=_,l[16]=r):r=l[16],(0,C.useEffect)(s,r);let b=F.repoID>0&&!F.repo;return l[17]!==f||l[18]!==v||l[19]!==F.branch||l[20]!==F.repo||l[21]!==b?(o={fetchError:f,loading:b,selectedBranch:F.branch,selectedRepo:F.repo,setSelectedBranch:y,setSelectedRepo:v},l[17]=f,l[18]=v,l[19]=F.branch,l[20]=F.repo,l[21]=b,l[22]=o):o=l[22],o}(),[ee,et]=(0,C.useState)("files"),ea=(0,C.useRef)(null),es=J?`${J.ownerLogin}/${J.name}`:"Select Repo";G[0]!==$?(t=(0,p.$)("ResourcePanel-module__resourcePanel--QFUYz",$),G[0]=$,G[1]=t):t=G[1],G[2]===Symbol.for("react.memo_cache_sentinel")?(a=()=>W(!0),G[2]=a):a=G[2],G[3]!==es?(o=(0,s.jsx)(d.Q,{ref:ea,onClick:a,variant:"invisible",trailingVisual:D.ChevronDownIcon,className:"ResourcePanel-module__resourcePanelRepoButton--W2AOy",children:es}),G[3]=es,G[4]=o):o=G[4],G[5]===Symbol.for("react.memo_cache_sentinel")?(_=new Set,G[5]=_):_=G[5],G[6]!==Z?(f=async e=>{e&&Z(e)},G[6]=Z,G[7]=f):f=G[7],G[8]!==Q||G[9]!==f?(E=(0,s.jsx)(r.X,{selectionVariant:"instant",open:Q,onOpenChange:W,selectedRepoIds:_,onSelectRepo:f,submitReturnFocusRef:ea,cancelReturnFocusRef:ea,anchorRef:ea,includeForks:!0}),G[8]=Q,G[9]=f,G[10]=E):E=G[10],G[11]!==q?(F=(0,s.jsx)("div",{className:"d-flex flex-justify-end",children:(0,s.jsx)(m.K,{size:"small",icon:D.SidebarCollapseIcon,"aria-label":"Close resource panel",onClick:q,variant:"invisible"})}),G[11]=q,G[12]=F):F=G[12],G[13]!==o||G[14]!==E||G[15]!==F?(x=(0,s.jsxs)("div",{className:j,children:[o,E,F]}),G[13]=o,G[14]=E,G[15]=F,G[16]=x):x=G[16],G[17]!==Y||G[18]!==J||G[19]!==X?(v=J&&(0,s.jsx)(l.PI,{cacheKey:"anything",canCreate:!1,closeOnSelect:!0,currentCommitish:Y??J.defaultBranch,defaultBranch:J.defaultBranch,onSelectItem:e=>{X(e)},owner:J.ownerLogin,repo:J.name,selectedRefType:"branch"}),G[17]=Y,G[18]=J,G[19]=X,G[20]=v):v=G[20],G[21]!==v?(y=(0,s.jsx)("div",{className:j,children:v}),G[21]=v,G[22]=y):y=G[22];let en="files"===ee?"location":void 0;G[23]===Symbol.for("react.memo_cache_sentinel")?(b=e=>{et("files"),e.preventDefault()},G[23]=b):b=G[23],G[24]===Symbol.for("react.memo_cache_sentinel")?(A=(0,s.jsx)(D.CodeIcon,{}),G[24]=A):A=G[24],G[25]!==en?(B=(0,s.jsx)(h.O.Item,{"aria-current":en,"aria-label":"Files",onSelect:b,className:S,children:A}),G[25]=en,G[26]=B):B=G[26];let er="pull-requests"===ee?"location":void 0;G[27]===Symbol.for("react.memo_cache_sentinel")?(R=e=>{et("pull-requests"),e.preventDefault()},G[27]=R):R=G[27],G[28]===Symbol.for("react.memo_cache_sentinel")?(T=(0,s.jsx)(D.GitPullRequestIcon,{}),G[28]=T):T=G[28],G[29]!==er?(w=(0,s.jsx)(h.O.Item,{"aria-current":er,"aria-label":"Pull requests",onSelect:R,className:S,children:T}),G[29]=er,G[30]=w):w=G[30];let ei="issues"===ee?"location":void 0;return G[31]===Symbol.for("react.memo_cache_sentinel")?(M=e=>{et("issues"),e.preventDefault()},G[31]=M):M=G[31],G[32]===Symbol.for("react.memo_cache_sentinel")?(P=(0,s.jsx)(D.IssueOpenedIcon,{}),G[32]=P):P=G[32],G[33]!==ei?(L=(0,s.jsx)(h.O.Item,{"aria-current":ei,"aria-label":"Issues",onSelect:M,className:S,children:P}),G[33]=ei,G[34]=L):L=G[34],G[35]!==B||G[36]!==w||G[37]!==L?(O=(0,s.jsxs)(h.O,{"aria-label":"Resource panel navigation",children:[B,w,L]}),G[35]=B,G[36]=w,G[37]=L,G[38]=O):O=G[38],G[39]!==y||G[40]!==O||G[41]!==x?(U=(0,s.jsxs)("div",{className:"ResourcePanel-module__resourcePanelHeader--xpYIo",children:[x,y,O]}),G[39]=y,G[40]=O,G[41]=x,G[42]=U):U=G[42],G[43]!==V||G[44]!==K||G[45]!==Y||G[46]!==J||G[47]!==ee?(z=(0,s.jsx)("div",{className:"ResourcePanel-module__resourcePanelContent--zjIvl",children:"files"===ee?(0,s.jsx)(I,{fetchError:V,loading:K,selectedBranch:Y,selectedRepo:J}):(0,s.jsx)("div",{className:N,children:"Coming soon..."})}),G[43]=V,G[44]=K,G[45]=Y,G[46]=J,G[47]=ee,G[48]=z):z=G[48],G[49]!==t||G[50]!==U||G[51]!==z?(H=(0,s.jsxs)("div",{className:t,"data-testid":"resource-panel",children:[U,z]}),G[49]=t,G[50]=U,G[51]=z,G[52]=H):H=G[52],H}function k(e){return e?.type==="file"&&(0,o.SI)(e.reference)?e.reference.repoID:null}try{w.displayName||(w.displayName="ResourcePanel")}catch{}},58855:(e,t,a)=>{a.d(t,{$s:()=>D,Sy:()=>d,U7:()=>c,kX:()=>m});var s,n=a(74848),r=a(21728),i=a(23657),u=a(61526),o=a(84078),l=a(73077);function c(){let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(o.l,{title:"Chat is disabled",variant:"warning",description:"Conversation unavailable. The linked space may have been deleted, or you might be signed out of your organization.",hideTitle:!0}),t[0]=e):e=t[0],e}function D(e){let t,a=(0,r.c)(3),{customCopilot:s}=e,c=(0,u.Zp)();return a[0]!==s||a[1]!==c?(t=s&&(0,n.jsx)(o.l,{title:"Chat is disabled",variant:"critical",description:"You've exceeded the size limit for this space. Remove some references to continue chatting.",hideTitle:!0,primaryAction:(0,n.jsx)(l.z,{as:"a",href:(0,i.Cb)(s),onClick:e=>{e.preventDefault(),c((0,i.Cb)(s))},children:"Edit"})}),a[0]=s,a[1]=c,a[2]=t):t=a[2],t}function d(){let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(o.l,{title:"Reference size exceeded",variant:"critical",description:"You've exceeded the size limit for this space. Remove some references to continue.",hideTitle:!0,className:"mb-3"}),t[0]=e):e=t[0],e}function m(e){let t,a,s,i,u=(0,r.c)(10),{errorMessages:l,onDismiss:c,className:D,bannerRef:d}=e,m=void 0===D?"":D;if(0===l.length)return null;if(u[0]!==l){let e=Array.from(new Set(l));t=1===e.length?e[0]:(0,n.jsxs)(n.Fragment,{children:["Errors during attachment upload:",(0,n.jsx)("ul",{style:{paddingLeft:"1.2em"},children:e.map(h)})]}),u[0]=l,u[1]=t}else t=u[1];let p=t;return u[2]===Symbol.for("react.memo_cache_sentinel")?(a={outline:"none"},u[2]=a):a=u[2],u[3]!==d||u[4]!==p?(s=(0,n.jsx)("div",{ref:d,tabIndex:-1,style:a,children:p}),u[3]=d,u[4]=p,u[5]=s):s=u[5],u[6]!==m||u[7]!==c||u[8]!==s?(i=(0,n.jsx)(o.l,{variant:"critical",description:s,title:"Error during attachment upload",hideTitle:!0,className:m,onDismiss:c}),u[6]=m,u[7]=c,u[8]=s,u[9]=i):i=u[9],i}function h(e){return(0,n.jsx)("li",{children:e},e)}try{c.displayName||(c.displayName="SpaceDeletedBanner")}catch{}try{D.displayName||(D.displayName="SpaceSizeExceededBanner")}catch{}try{d.displayName||(d.displayName="ReferenceSizeExceededBanner")}catch{}try{(s=function(){let e,t=(0,r.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,n.jsx)(o.l,{title:"Reference not found",variant:"critical",description:"We couldn't access that repository. Make sure it exists and that you have permission to use it.",hideTitle:!0,className:"mb-3"}),t[0]=e):e=t[0],e}).displayName||(s.displayName="AssociatedRepositoryReferenceNotFoundBanner")}catch{}try{m.displayName||(m.displayName="UploadErrorBanner")}catch{}},87419:(e,t,a)=>{a.d(t,{Y:()=>l});var s=a(21728),n=a(96540),r=a(79064),i=a(2635),u=a(33592),o=a(72303);function l(e){let t,a,l,c,D,d,m,h,p,C,g=(0,s.c)(26),_=(0,i.Pk)(),f=(0,u.b)(),{currentTopic:E,messages:F,selectedThreadID:x}=_;g[0]!==_?(t=(0,o.W)(_),g[0]=_,g[1]=t):t=g[1];let v=t,y=(0,n.useRef)(null),b=e||y;return g[2]!==f||g[3]!==F.length||g[4]!==v?(a=()=>{v&&F.length>0&&f.showTopicPicker(!1)},l=[v,F.length,f],g[2]=f,g[3]=F.length,g[4]=v,g[5]=a,g[6]=l):(a=g[5],l=g[6]),(0,n.useEffect)(a,l),g[7]!==E||g[8]!==x?(c=()=>{let e=E?String(E.id):null;x&&e&&r.Jt.setSelectedTopic(x,e)},D=[x,E],g[7]=E,g[8]=x,g[9]=c,g[10]=D):(c=g[9],D=g[10]),(0,n.useEffect)(c,D),g[11]!==b?(d=()=>{let e=window.setTimeout(()=>{b.current?.focus()},1);return()=>{window.clearTimeout(e)}},m=[b],g[11]=b,g[12]=d,g[13]=m):(d=g[12],m=g[13]),(0,n.useEffect)(d,m),g[14]!==f||g[15]!==_.context?.[0]||g[16]!==_.currentRepository?(h=()=>{let e;return(e=_.context?.[0]??_.currentRepository)&&f.generateSuggestions(e),()=>{f.clearSuggestions()}},g[14]=f,g[15]=_.context?.[0],g[16]=_.currentRepository,g[17]=h):h=g[17],g[18]!==f||g[19]!==_.context||g[20]!==_.currentRepository||g[21]!==_.currentTopic||g[22]!==_.selectedThreadID?(p=[f,_.context,_.currentTopic,_.currentRepository,_.selectedThreadID],g[18]=f,g[19]=_.context,g[20]=_.currentRepository,g[21]=_.currentTopic,g[22]=_.selectedThreadID,g[23]=p):p=g[23],(0,n.useEffect)(h,p),g[24]!==b?(C={textAreaRef:b},g[24]=b,g[25]=C):C=g[25],C}},90918:(e,t,a)=>{a.d(t,{g:()=>n});var s=a(61526);function n(){let{threadID:e}=(0,s.g)();return e??null}},91547:(e,t,a)=>{a.d(t,{E:()=>d,q:()=>D});var s=a(5225),n=a(25407),r=a(82591),i=a(96379),u=a(96540);async function o(e){let t=await (0,i.lS)(e);return t.ok?await t.json():void 0}let l=new Map,c=(0,s.A)(o,{cache:l});function D(){l.clear()}function d(e,t,a,s){let[i,o]=(0,u.useState)(),[l,d]=(0,u.useState)(!1),[m,h]=(0,u.useState)(!0),p=t&&e&&a&&s?(0,n.IO9)({repo:{name:t,ownerLogin:e},commitish:a,action:"latest-commit",path:s}):null;return(0,u.useEffect)(()=>{let e=new AbortController;return document.addEventListener(r.z.START,D,{signal:e.signal}),()=>{e.abort()}},[]),(0,u.useEffect)(()=>{let e=!1;return(async()=>{if(!p)return;d(!1),h(!0),o(void 0);let t=await c(p);if(!e){try{t?o(t):d(!0)}catch{d(!0)}h(!1)}})(),function(){e=!0}},[p,a]),[i,m,l]}},92130:(e,t,a)=>{a.d(t,{A:()=>i});var s=a(74848),n=a(21728),r=a(74807);function i(e){let t,a,i=(0,n.c)(3),{hidden:u}=e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,s.jsx)(r.N,{animationType:r.L.Idle,loopAnimation:!0,size:64}),i[0]=t):t=i[0],i[1]!==u?(a=(0,s.jsx)("div",{"aria-hidden":u,children:t}),i[1]=u,i[2]=a):a=i[2],a}try{i.displayName||(i.displayName="CopilotIconAnimation")}catch{}},97315:(e,t,a)=>{a.d(t,{P:()=>o});var s=a(74848),n=a(21728),r=a(84078),i=a(96540),u=a(33592);function o(e){let t,a,o,c,D,d,m=(0,n.c)(14),{ambientError:h,useLargerBorderRadius:p}=e,C=(0,u.b)(),[g,_]=(0,i.useState)(0),f=(0,i.useRef)(null);m[0]!==h.message?(t=()=>{if(h.message){_(l);let e=setTimeout(()=>{f.current&&f.current.focus()},250);return()=>clearTimeout(e)}},m[0]=h.message,m[1]=t):t=m[1],m[2]!==h?(a=[h],m[2]=h,m[3]=a):a=m[3],(0,i.useEffect)(t,a);let E=`AmbientErrorBanner-module__ambientErrorBanner--lajPC ${void 0!==p&&p?"AmbientErrorBanner-module__largeBorderRadius--NGjjE":"AmbientErrorBanner-module__mediumBorderRadius--aAp6Z"}`;return m[4]===Symbol.for("react.memo_cache_sentinel")?(o={outline:"none"},m[4]=o):o=m[4],m[5]!==h.message?(c=(0,s.jsx)("div",{ref:f,tabIndex:-1,style:o,children:h.message}),m[5]=h.message,m[6]=c):c=m[6],m[7]!==C?(D=()=>{C.dismissAmbientError()},m[7]=C,m[8]=D):D=m[8],m[9]!==g||m[10]!==E||m[11]!==c||m[12]!==D?(d=(0,s.jsx)(r.l,{"aria-atomic":"true",className:E,description:c,variant:"critical",title:"Error during copilot chat has occurred.",hideTitle:!0,onDismiss:D},g),m[9]=g,m[10]=E,m[11]=c,m[12]=D,m[13]=d):d=m[13],d}function l(e){return e+1}try{o.displayName||(o.displayName="AmbientErrorBanner")}catch{}}}]);
//# sourceMappingURL=40149-57d00ad945f6.js.map